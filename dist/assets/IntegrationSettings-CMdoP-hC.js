import{o as i,j as e}from"./index-LbmMX0zK.js";import{u}from"./useSettingsResource-oqSGcL-3.js";import{S as l}from"./settings-Qx-NgHYD.js";import"./index-CZPZUv93.js";function b(){const{data:s,setData:d,loading:c,saving:a,error:n,success:r,save:m}=u(l.getIntegrationSettings,l.saveIntegrationSettings,{mpesa:{enabled:!1,shortcode:"",passkey:""},paymentGateways:[],webhooks:{url:""}}),[x,o]=i.useState("");i.useEffect(()=>{o(JSON.stringify(s??{},null,2))},[s]);const g=t=>{o(t);try{d(JSON.parse(t))}catch{}};return c?e.jsx("div",{className:"p-4 text-sm text-slate-500",children:"Loading…"}):e.jsxs("div",{className:"bg-white dark:bg-slate-900 border rounded-2xl p-4 space-y-3",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Integration Settings"}),n&&e.jsx("div",{className:"text-sm text-rose-600",children:n}),r&&e.jsx("div",{className:"text-sm text-emerald-600",children:r}),e.jsx("label",{className:"text-sm",children:"JSON"}),e.jsx("textarea",{rows:14,className:"mt-1 w-full rounded border px-3 py-2 text-sm font-mono",value:x,onChange:t=>g(t.target.value)}),e.jsx("button",{className:"px-3 py-1.5 rounded bg-blue-600 text-white text-sm",onClick:()=>m(),disabled:a,children:a?"Saving…":"Save"})]})}export{b as default};
