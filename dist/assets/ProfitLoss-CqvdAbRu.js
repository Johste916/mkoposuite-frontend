import{r as a,j as e,b as h}from"./index-nRfDEWc-.js";function b(){const[n,x]=a.useState(""),[l,m]=a.useState(""),[r,p]=a.useState(null),[o,u]=a.useState(""),c=()=>{const s={};n&&(s.from=n),l&&(s.to=l),h.get("/accounting/profit-loss",{params:s}).then(t=>p(t.data)).catch(t=>{var i,d;return u(((d=(i=t==null?void 0:t.response)==null?void 0:i.data)==null?void 0:d.error)||t.message)})};return a.useEffect(()=>{c()},[]),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4",children:[e.jsxs("div",{className:"flex items-end justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Profit & Loss"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("label",{className:"block text-xs opacity-70",children:"From"}),e.jsx("input",{type:"date",value:n,onChange:s=>x(s.target.value),className:"border rounded px-2 py-1 dark:bg-gray-700"})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("label",{className:"block text-xs opacity-70",children:"To"}),e.jsx("input",{type:"date",value:l,onChange:s=>m(s.target.value),className:"border rounded px-2 py-1 dark:bg-gray-700"})]}),e.jsx("button",{onClick:c,className:"px-3 py-2 rounded bg-blue-600 text-white text-sm",children:"Run"})]})]}),o&&e.jsxs("div",{className:"text-red-500 text-sm mb-3",children:["Error: ",o]}),r?e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"flex justify-between py-1",children:[e.jsx("span",{children:"Total Income"}),e.jsx("span",{children:Number(r.totalIncome||0).toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between py-1",children:[e.jsx("span",{children:"Total Expense"}),e.jsx("span",{children:Number(r.totalExpense||0).toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between py-2 font-semibold border-t mt-2",children:[e.jsx("span",{children:"Net Profit"}),e.jsx("span",{children:Number(r.netProfit||0).toLocaleString()})]})]}):e.jsx("div",{className:"py-10 text-center opacity-70",children:"Loadingâ€¦"})]})}export{b as default};
