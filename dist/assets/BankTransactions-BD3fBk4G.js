import{r as a,j as s}from"./index-BWN1fagU.js";import{l as x,b as u}from"./banking-DiIsjiBX.js";const j="bg-white rounded-2xl shadow-sm ring-1 ring-black/5 p-5 md:p-7",N="border rounded px-3 py-2";function f(){const[m,p]=a.useState([]),[t,l]=a.useState(""),[d,n]=a.useState([]),[i,o]=a.useState(!1),[h,c]=a.useState(null);return a.useEffect(()=>{x().then(p).catch(e=>c((e==null?void 0:e.normalizedMessage)||String(e)))},[]),a.useEffect(()=>{(async()=>{if(!t)return n([]);try{o(!0),c(null);const r=await u(t);n(r||[])}catch(r){c((r==null?void 0:r.normalizedMessage)||String(r)),n([])}finally{o(!1)}})()},[t]),s.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Bank Transactions"}),s.jsxs("section",{className:j,children:[s.jsxs("div",{className:"mb-3 flex items-end gap-3",children:[s.jsxs("select",{className:N,value:t,onChange:e=>l(e.target.value),children:[s.jsx("option",{value:"",children:"— choose bank —"}),m.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]}),s.jsx("button",{className:"px-3 py-2 rounded border",onClick:()=>t&&l(t),disabled:!t||i,children:i?"Loading…":"Refresh"})]}),h&&s.jsx("div",{className:"text-sm text-red-600 mb-2",children:h}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"text-left text-gray-600",children:[s.jsx("th",{className:"py-2 pr-4",children:"Date"}),s.jsx("th",{className:"py-2 pr-4",children:"Type"}),s.jsx("th",{className:"py-2 pr-4",children:"Dir"}),s.jsx("th",{className:"py-2 pr-4 text-right",children:"Amount"}),s.jsx("th",{className:"py-2 pr-4",children:"Ref"}),s.jsx("th",{className:"py-2 pr-4",children:"Status"})]})}),s.jsxs("tbody",{children:[d.map(e=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"py-2 pr-4",children:e.occurredAt?new Date(e.occurredAt).toLocaleString():"—"}),s.jsx("td",{className:"py-2 pr-4",children:e.type}),s.jsx("td",{className:"py-2 pr-4",children:e.direction}),s.jsxs("td",{className:"py-2 pr-4 text-right",children:[Number(e.amount).toLocaleString()," ",e.currency||"TZS"]}),s.jsx("td",{className:"py-2 pr-4",children:e.reference||"—"}),s.jsx("td",{className:"py-2 pr-4",children:e.status})]},e.id)),d.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"py-6 text-center text-gray-500",children:"No data"})})]})]})})]})]})}export{f as default};
