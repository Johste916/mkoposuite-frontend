import{r as a}from"./index-DMb-qiOH.js";function E(o,d,c){const[u,i]=a.useState(c||{}),[g,f]=a.useState(!0),[m,l]=a.useState(!1),[p,r]=a.useState(""),[v,n]=a.useState("");return a.useEffect(()=>{let s=!0;return f(!0),r(""),n(""),o().then(e=>{s&&i({...c||{},...e||{}})}).catch(e=>{var t,S;s&&r(((S=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:S.error)||e.message)}).finally(()=>s&&f(!1)),()=>s=!1},[o]),{data:u,setData:i,loading:g,saving:m,error:p,success:v,save:async()=>{var s,e;l(!0),r(""),n("");try{await d(u),n("Saved.")}catch(t){r(((e=(s=t==null?void 0:t.response)==null?void 0:s.data)==null?void 0:e.error)||t.message)}finally{l(!1)}}}}export{E as u};
