import{u as he,r as p,h as v,j as e,L as H}from"./index-DFzTBWzb.js";import{c as O}from"./createLucideIcon-D4WvWtFN.js";import{U as V}from"./user-CjWbe5pa.js";import{U as ge,B as xe}from"./upload-D_HQsXoB.js";import{X as fe}from"./x-Dl0l8yU5.js";import{P as ve,I as be}from"./phone-BVYUlZZb.js";import{C as W}from"./calendar-DBv1VJX6.js";import{S as je}from"./save-BXuFxRrq.js";/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ye=O("camera",Ne);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ie=O("info",we);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Se=O("map-pin",Ce);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],De=O("user-plus",ke),Y=()=>new Date().toISOString().slice(0,10),Oe=(...m)=>{for(const h of m.flat()){if(h===0)return 0;if(h===!1||h==null)continue;const x=typeof h=="string"?h.trim():h;if(Array.isArray(x)){if(x.filter(Boolean).length)return x}else if(x!==""&&x!=="null"&&x!=="undefined")return x}return""},C=m=>m?{headers:{"x-tenant-id":m}}:{},k=m=>typeof v.getTenantId=="function"?v.getTenantId():null,B=async(m=[],h={})=>v.getFirst(m,h),$=(m,h,x="No options")=>{switch(m){case"loading":return"Loading…";case"error":return"Failed to load — Retry";case"empty":return x;default:return h}},j={officers:new Map,branches:new Map,groups:new Map},n={page:"w-full px-4 md:px-6 lg:px-8 py-6 min-h-screen bg-[var(--bg)] text-[var(--fg)]",section:"rounded-2xl border-2 border-[var(--border-strong)] bg-[var(--card)] shadow p-4 md:p-6",input:"w-full text-sm rounded-lg px-3 py-2 border-2 bg-[var(--input-bg)] text-[var(--input-fg)] border-[var(--input-border)] placeholder:text-[var(--input-placeholder)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ring)]",btn:"inline-flex items-center gap-2 px-3 py-2 rounded-lg font-semibold border-2 border-[var(--border-strong)] bg-[var(--card)] text-[var(--fg)] hover:bg-[var(--kpi-bg)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ring)]",primary:"inline-flex items-center gap-2 px-4 py-2 rounded-lg font-semibold shadow-sm bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-60 disabled:cursor-not-allowed focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ring)]",link:"inline-flex items-center gap-1 font-bold underline decoration-2 underline-offset-4 rounded text-[var(--ring)] hover:opacity-90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ring)]",label:"text-[12px] font-semibold uppercase tracking-wider text-[var(--muted)] mb-1",iconAccent:"h-5 w-5 text-[var(--ring)]",iconMuted:"h-3.5 w-3.5 text-[var(--muted)]",muted:"text-[var(--muted)]"};function _e(){const m=he(),h=[{value:"",label:"—"},{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"}],x=[{value:"",label:"—"},{value:"employed",label:"Employed"},{value:"self_employed",label:"Self-employed"},{value:"unemployed",label:"Unemployed"},{value:"student",label:"Student"},{value:"retired",label:"Retired"}],X=[{value:"",label:"—"},{value:"national_id",label:"National ID"},{value:"passport",label:"Passport"},{value:"driver_license",label:"Driver’s License"},{value:"voter_id",label:"Voter ID"}],J=[{value:"individual",label:"Individual"},{value:"group",label:"Group"}],Q=[{value:"active",label:"Active"},{value:"pending_kyc",label:"Pending KYC"},{value:"inactive",label:"Inactive"},{value:"blacklisted",label:"Blacklisted"},{value:"disabled",label:"Disabled"}],[P,_]=p.useState(null),[E,F]=p.useState(null),T=p.useRef(null),[Z,K]=p.useState([]),[ee,L]=p.useState([]),[ae,R]=p.useState([]),[M,S]=p.useState("loading"),[q,N]=p.useState("loading"),[U,y]=p.useState("loading"),[G,te]=p.useState(0),[ne,se]=p.useState(0),[le,re]=p.useState(0),[A,z]=p.useState(!1),[t,r]=p.useState({firstName:"",lastName:"",phone:"",secondaryPhone:"",email:"",occupation:"",gender:"",birthDate:"",nationality:"",maritalStatus:"",educationLevel:"",customerNumber:"",tin:"",status:"active",addressLine:"",city:"",district:"",ward:"",street:"",houseNumber:"",idType:"",idNumber:"",idIssuedDate:"",idExpiryDate:"",nextKinName:"",nextKinPhone:"",nextOfKinRelationship:"",loanType:"individual",groupId:"",branchId:"",loanOfficerId:"",regDate:Y()});p.useEffect(()=>{const a=k();if(!a){N("error");return}const u=j.branches.get(a);if(u){L(u),N(u.length?"ok":"empty");return}let c=!1;return N("loading"),(async()=>{try{const g=C(a),o=await B(["/branches","/v1/branches","/loan-branches","/v1/loan-branches",`/tenants/${a}/branches`,`/v1/tenants/${a}/branches`],g),d=(Array.isArray(o)&&o||(o==null?void 0:o.items)||(o==null?void 0:o.data)||(o==null?void 0:o.rows)||[]||[]).map(l=>({id:l.id??l.code??l.uuid??l.branchId??l.slug,name:l.name??l.branchName??l.title??(l.code?String(l.code):"—")}));c||(L(d),N(d.length?"ok":"empty"),d.length&&j.branches.set(a,d))}catch{c||(L([]),N("error"))}})(),()=>{c=!0}},[ne]),p.useEffect(()=>{const a=k(),u=a||"__no_tenant__",c=j.officers.get(u);if(c&&c.length&&G===0){K(c),S("ok");return}c&&!c.length&&j.officers.delete(u);let g=!1;return S("loading"),(async()=>{try{const o=C(a),f=[a?`/tenants/${a}/officers`:null,"/v1/officers","/officers","/loan-officers","/users?role=loan_officer","/users?role=officer","/v1/users?role=officer"].filter(Boolean),d=s=>Array.isArray(s)&&s||(s==null?void 0:s.items)||(s==null?void 0:s.data)||(s==null?void 0:s.rows)||(s==null?void 0:s.results)||(s==null?void 0:s.officers)||(s==null?void 0:s.users)||[];let l=[];for(const s of f){const w=await B([s],o).catch(()=>null),I=d(w);if(I&&I.length){l=I;break}}const b=(l||[]).map(s=>({id:s.loanOfficerId??s.id??s.userId??s.uuid??s.code??s.employeeId,name:Oe(s.name,s.fullName,[s.firstName,s.lastName].filter(Boolean).join(" "),s.email,String(s.id??s.userId??""))}));g||(K(b),S(b.length?"ok":"empty"),b.length&&j.officers.set(u,b))}catch{g||(K([]),S("error"))}})(),()=>{g=!0}},[G]),p.useEffect(()=>{const a=k();if(t.loanType!=="group"){y("empty");return}const u=a?j.groups.get(a):null;if(u){R(u),y(u.length?"ok":"empty");return}let c=!1;return y("loading"),(async()=>{try{const g=C(a),o=await B(["/groups","/v1/groups","/borrowers/groups","/v1/borrowers/groups","/loan-groups","/v1/loan-groups",a?`/tenants/${a}/groups`:null,a?`/v1/tenants/${a}/groups`:null].filter(Boolean),g),d=(Array.isArray(o)&&o||(o==null?void 0:o.items)||(o==null?void 0:o.data)||(o==null?void 0:o.rows)||[]||[]).map(l=>({id:l.id??l.code??l.uuid??l.groupId??l.slug,name:l.name??l.title??l.groupName??(l.code?String(l.code):"—")}));c||(R(d),y(d.length?"ok":"empty"),a&&d.length&&j.groups.set(a,d))}catch{c||(R([]),y("error"))}})(),()=>{c=!0}},[t.loanType,le]);const ie=a=>{var g;const u=(g=a.target.files)==null?void 0:g[0];if(!u)return;_(u);const c=new FileReader;c.onload=()=>F(c.result),c.readAsDataURL(u)},oe=()=>{_(null),F(null),T.current&&(T.current.value="")},ce=()=>!t.firstName.trim()||!t.lastName.trim()?(alert("First & last name are required"),!1):t.phone.trim()?t.gender?t.loanType==="group"&&!t.groupId?(alert("Please select a group."),!1):!0:(alert("Gender is required"),!1):(alert("Primary phone is required"),!1),ue=async a=>{var u;if(a.preventDefault(),!A&&ce()){z(!0);try{const c=k(),g=new FormData,o={name:`${t.firstName} ${t.lastName}`.trim(),firstName:t.firstName||null,lastName:t.lastName||null,phone:t.phone||null,secondaryPhone:t.secondaryPhone||null,email:t.email||null,occupation:t.occupation||null,gender:t.gender||null,birthDate:t.birthDate||null,nationality:t.nationality||null,maritalStatus:t.maritalStatus||null,educationLevel:t.educationLevel||null,customerNumber:t.customerNumber||null,tin:t.tin||null,status:t.status||"active",addressLine:[t.addressLine,t.street,t.houseNumber,t.ward,t.district,t.city].filter(Boolean).join(", ")||null,city:t.city||null,district:t.district||null,ward:t.ward||null,street:t.street||null,houseNumber:t.houseNumber||null,idType:t.idType||null,idNumber:t.idNumber||null,idIssuedDate:t.idIssuedDate||null,idExpiryDate:t.idExpiryDate||null,nextKinName:t.nextKinName||null,nextKinPhone:t.nextKinPhone||null,nextOfKinRelationship:t.nextOfKinRelationship||null,branchId:t.branchId||null,loanOfficerId:t.loanOfficerId||null,loanType:t.loanType||null,groupId:t.loanType==="group"&&t.groupId||null,regDate:t.regDate||Y()};Object.entries(o).forEach(([w,I])=>g.append(w,I??"")),P&&g.append("photo",P);const f=await v.post("/borrowers",g,C(c)),d=((u=f==null?void 0:f.data)==null?void 0:u.borrower)||(f==null?void 0:f.data)||{},l=d==null?void 0:d.id,b=(d==null?void 0:d.tenantId)||c,s=C(b);if(l&&t.branchId&&await v.post(`/borrowers/${l}/branch`,{branchId:t.branchId},s).catch(()=>v.post(`/borrowers/${l}/assign-branch`,{branchId:t.branchId},s)).catch(()=>v.patch(`/borrowers/${l}`,{branchId:t.branchId},s)).catch(()=>{}),l&&t.loanOfficerId&&await v.post(`/borrowers/${l}/officer`,{loanOfficerId:t.loanOfficerId},s).catch(()=>v.post(`/borrowers/${l}/assign-officer`,{officerId:t.loanOfficerId},s)).catch(()=>v.patch(`/borrowers/${l}`,{loanOfficerId:t.loanOfficerId},s)).catch(()=>{}),alert("Borrower saved successfully"),l){const w=b?`?tenantId=${encodeURIComponent(b)}`:"";m(`/borrowers/${encodeURIComponent(l)}${w}`)}else m("/borrowers")}catch(c){console.error(c),alert("Failed to save borrower")}finally{z(!1)}}},de=$(M,"Select loan officer…","No officers"),pe=$(q,"Select branch…","No branches"),me=$(U,"Select group…","No groups");return e.jsxs("div",{className:n.page,children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-3xl font-extrabold tracking-tight",children:"Add Borrower"}),e.jsxs("p",{className:`text-sm ${n.muted}`,children:["Fill out KYC. You can also set"," ",e.jsx("strong",{children:"Branch"})," and ",e.jsx("strong",{children:"Loan Officer"})," below."]})]}),e.jsx(H,{to:"/borrowers",className:n.link,children:"← Back to Borrowers"})]}),e.jsxs("form",{onSubmit:ue,className:"grid grid-cols-1 xl:grid-cols-3 gap-6 relative",noValidate:!0,children:[e.jsxs("div",{className:"xl:col-span-2 space-y-6 min-w-0",children:[e.jsxs("section",{className:n.section,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ye,{className:n.iconAccent}),e.jsx("h2",{className:"font-extrabold text-lg tracking-tight",children:"Profile Photo"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-28 h-28 rounded-2xl overflow-hidden border-2 border-[var(--border-strong)] bg-[var(--card)] flex items-center justify-center",children:E?e.jsx("img",{src:E,alt:"Profile preview",className:"w-full h-full object-cover"}):e.jsx(V,{className:"h-10 w-10 text-[var(--muted)]"})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("label",{className:`${n.btn} cursor-pointer`,children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx("span",{children:"Upload"}),e.jsx("input",{ref:T,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:ie})]}),P&&e.jsxs("button",{type:"button",onClick:oe,className:n.btn,children:[e.jsx(fe,{className:"h-4 w-4"})," Remove"]})]})]})]}),e.jsxs("section",{className:n.section,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(V,{className:n.iconAccent}),e.jsx("h2",{className:"font-extrabold text-lg tracking-tight",children:"Identity"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(i,{label:"First Name",children:e.jsx("input",{className:n.input,value:t.firstName,onChange:a=>r({...t,firstName:a.target.value}),required:!0})}),e.jsx(i,{label:"Last Name",children:e.jsx("input",{className:n.input,value:t.lastName,onChange:a=>r({...t,lastName:a.target.value}),required:!0})}),e.jsx(i,{label:e.jsx(D,{Icon:ve,text:"Phone"}),children:e.jsx("input",{className:n.input,value:t.phone,onChange:a=>r({...t,phone:a.target.value}),placeholder:"e.g. +2557…",required:!0})}),e.jsx(i,{label:"Secondary #",children:e.jsx("input",{className:n.input,value:t.secondaryPhone,onChange:a=>r({...t,secondaryPhone:a.target.value}),placeholder:"Optional"})}),e.jsx(i,{label:"Email",children:e.jsx("input",{type:"email",className:n.input,value:t.email,onChange:a=>r({...t,email:a.target.value}),placeholder:"name@email.com"})}),e.jsx(i,{label:"Business / Occupation",children:e.jsx("input",{className:n.input,value:t.occupation,onChange:a=>r({...t,occupation:a.target.value}),placeholder:"e.g. Retail shop"})}),e.jsx(i,{label:"Gender",children:e.jsx("select",{className:n.input,value:t.gender,onChange:a=>r({...t,gender:a.target.value}),required:!0,children:h.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})}),e.jsx(i,{label:e.jsx(D,{Icon:W,text:"Birth date"}),children:e.jsx("input",{type:"date",className:n.input,value:t.birthDate,onChange:a=>r({...t,birthDate:a.target.value})})}),e.jsx(i,{label:"Nationality",children:e.jsx("input",{className:n.input,value:t.nationality,onChange:a=>r({...t,nationality:a.target.value})})}),e.jsx(i,{label:"Marital Status",children:e.jsx("input",{className:n.input,value:t.maritalStatus,onChange:a=>r({...t,maritalStatus:a.target.value})})}),e.jsx(i,{label:"Education Level",children:e.jsx("input",{className:n.input,value:t.educationLevel,onChange:a=>r({...t,educationLevel:a.target.value})})}),e.jsx(i,{label:"Customer Number",children:e.jsx("input",{className:n.input,value:t.customerNumber,onChange:a=>r({...t,customerNumber:a.target.value})})}),e.jsx(i,{label:"TIN",children:e.jsx("input",{className:n.input,value:t.tin,onChange:a=>r({...t,tin:a.target.value})})}),e.jsx(i,{label:e.jsx(D,{Icon:Ie,text:"Status"}),children:e.jsx("select",{className:n.input,value:t.status,onChange:a=>r({...t,status:a.target.value}),children:Q.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(i,{label:"Employment / Working Status",children:e.jsx("select",{className:n.input,value:t.employmentStatus,onChange:a=>r({...t,employmentStatus:a.target.value}),children:x.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})})})]})]}),e.jsxs("section",{className:n.section,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Se,{className:n.iconAccent}),e.jsx("h2",{className:"font-extrabold text-lg tracking-tight",children:"Address"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(i,{label:"Address Line",children:e.jsx("input",{className:n.input,value:t.addressLine,onChange:a=>r({...t,addressLine:a.target.value})})})}),e.jsx(i,{label:"City",children:e.jsx("input",{className:n.input,value:t.city,onChange:a=>r({...t,city:a.target.value})})}),e.jsx(i,{label:"District",children:e.jsx("input",{className:n.input,value:t.district,onChange:a=>r({...t,district:a.target.value})})}),e.jsx(i,{label:"Ward",children:e.jsx("input",{className:n.input,value:t.ward,onChange:a=>r({...t,ward:a.target.value})})}),e.jsx(i,{label:"Street",children:e.jsx("input",{className:n.input,value:t.street,onChange:a=>r({...t,street:a.target.value})})}),e.jsx(i,{label:"House #",children:e.jsx("input",{className:n.input,value:t.houseNumber,onChange:a=>r({...t,houseNumber:a.target.value})})})]})]}),e.jsxs("section",{className:n.section,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(be,{className:n.iconAccent}),e.jsx("h2",{className:"font-extrabold text-lg tracking-tight",children:"ID Document"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(i,{label:"ID Type",children:e.jsx("select",{className:n.input,value:t.idType,onChange:a=>r({...t,idType:a.target.value}),children:X.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})}),e.jsx(i,{label:"ID Number",children:e.jsx("input",{className:n.input,value:t.idNumber,onChange:a=>r({...t,idNumber:a.target.value})})}),e.jsx(i,{label:"Issued on",children:e.jsx("input",{type:"date",className:n.input,value:t.idIssuedDate,onChange:a=>r({...t,idIssuedDate:a.target.value})})}),e.jsx(i,{label:"Expiry date",children:e.jsx("input",{type:"date",className:n.input,value:t.idExpiryDate,onChange:a=>r({...t,idExpiryDate:a.target.value})})})]})]}),e.jsxs("section",{className:n.section,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(De,{className:n.iconAccent}),e.jsx("h2",{className:"font-extrabold text-lg tracking-tight",children:"Next of Kin"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(i,{label:"Full Name",children:e.jsx("input",{className:n.input,value:t.nextKinName,onChange:a=>r({...t,nextKinName:a.target.value})})}),e.jsx(i,{label:"Phone",children:e.jsx("input",{className:n.input,value:t.nextKinPhone,onChange:a=>r({...t,nextKinPhone:a.target.value})})}),e.jsx(i,{label:"Relationship",children:e.jsx("input",{className:n.input,value:t.nextOfKinRelationship,onChange:a=>r({...t,nextOfKinRelationship:a.target.value})})})]})]})]}),e.jsx("div",{className:"space-y-6 min-w-0",children:e.jsxs("section",{className:n.section,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(xe,{className:n.iconAccent}),e.jsx("h2",{className:"font-extrabold text-lg tracking-tight",children:"Assignment & Registration"})]}),e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("span",{className:"text-[12px] font-semibold uppercase tracking-wider text-[var(--muted)]",children:" "}),e.jsxs("div",{className:"flex gap-2",children:[M==="error"&&e.jsx("button",{type:"button",className:n.btn,onClick:()=>te(a=>a+1),children:"Retry officers"}),q==="error"&&e.jsx("button",{type:"button",className:n.btn,onClick:()=>se(a=>a+1),children:"Retry branches"}),t.loanType==="group"&&U==="error"&&e.jsx("button",{type:"button",className:n.btn,onClick:()=>re(a=>a+1),children:"Retry groups"})]})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsx(i,{label:"Loan Type",children:e.jsx("select",{className:n.input,value:t.loanType,onChange:a=>r({...t,loanType:a.target.value,groupId:""}),children:J.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})}),t.loanType==="group"&&e.jsx(i,{label:"Group",children:e.jsxs("select",{className:n.input,value:t.groupId,onChange:a=>r({...t,groupId:a.target.value}),required:!0,children:[e.jsx("option",{value:"",children:me}),ae.map(a=>e.jsxs("option",{value:a.id,children:[a.name," (",a.id,")"]},a.id))]})}),e.jsx(i,{label:"Branch",children:e.jsxs("select",{className:n.input,value:t.branchId,onChange:a=>r({...t,branchId:a.target.value}),children:[e.jsx("option",{value:"",children:pe}),ee.map(a=>e.jsxs("option",{value:a.id,children:[a.name," (",a.id,")"]},a.id))]})}),e.jsx(i,{label:"Loan Officer",children:e.jsxs("select",{className:n.input,value:t.loanOfficerId,onChange:a=>r({...t,loanOfficerId:a.target.value}),children:[e.jsx("option",{value:"",children:de}),Z.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})}),e.jsx(i,{label:e.jsx(D,{Icon:W,text:"Registration Date"}),children:e.jsx("input",{type:"date",className:n.input,value:t.regDate,onChange:a=>r({...t,regDate:a.target.value})})}),e.jsx("div",{className:"rounded-lg border-2 border-[var(--border-strong)] p-3 text-[13px] text-[var(--muted)]",children:"If your API ignores branch/officer in the initial request, this page will assign them right after creating the borrower."})]})]})}),e.jsx("div",{className:"col-span-full",children:e.jsx("div",{className:"sticky bottom-0 inset-x-0 z-20 border-t-2 backdrop-blur",style:{borderColor:"var(--border-strong)",background:"var(--card)"},children:e.jsxs("div",{className:"max-w-screen-2xl mx-auto px-4 py-3 flex justify-end gap-3",children:[e.jsx(H,{to:"/borrowers",className:n.btn,children:"Cancel"}),e.jsxs("button",{disabled:A,type:"submit",className:n.primary,children:[e.jsx(je,{className:"h-4 w-4"})," ",A?"Saving…":"Save"]})]})})})]})]})}function i({label:m,children:h}){return e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:n.label,children:m}),e.jsx("div",{className:"min-w-0",children:h})]})}function D({Icon:m,text:h}){return e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx(m,{className:n.iconMuted}),h]})}export{_e as default};
