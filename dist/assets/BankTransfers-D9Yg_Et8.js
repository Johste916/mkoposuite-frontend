import{r as t,j as s}from"./index-DYDSVKWX.js";import{l as y,t as S}from"./banking-DaREOshH.js";const k="bg-white rounded-2xl shadow-sm ring-1 ring-black/5 p-5 md:p-7",a="w-full border rounded px-3 py-2";function w(){const[d,f]=t.useState([]),[n,v]=t.useState(""),[l,N]=t.useState(""),[c,o]=t.useState(""),[m,x]=t.useState(""),[u,h]=t.useState(""),[g,p]=t.useState(!1),[j,i]=t.useState(null);t.useEffect(()=>{y().then(f).catch(e=>i((e==null?void 0:e.normalizedMessage)||String(e)))},[]);const b=async e=>{if(e.preventDefault(),!n||!l||!c)return alert("From, to, amount");try{p(!0),i(null),await S(n,{toBankId:l,amount:Number(c),occurredAt:m,reference:u}),o(""),x(""),h(""),alert("Transferred")}catch(r){i((r==null?void 0:r.normalizedMessage)||String(r))}finally{p(!1)}};return s.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Bank to Bank Transfer"}),s.jsxs("form",{onSubmit:b,className:k,children:[j&&s.jsx("div",{className:"text-sm text-red-600 mb-2",children:j}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600",children:"From"}),s.jsxs("select",{className:a,value:n,onChange:e=>v(e.target.value),children:[s.jsx("option",{value:"",children:"—"}),d.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600",children:"To"}),s.jsxs("select",{className:a,value:l,onChange:e=>N(e.target.value),children:[s.jsx("option",{value:"",children:"—"}),d.filter(e=>String(e.id)!==String(n)).map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600",children:"Amount"}),s.jsx("input",{className:a,type:"number",step:"0.01",value:c,onChange:e=>o(e.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600",children:"Occurred At"}),s.jsx("input",{className:a,type:"datetime-local",value:m,onChange:e=>x(e.target.value)})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs text-gray-600",children:"Reference"}),s.jsx("input",{className:a,value:u,onChange:e=>h(e.target.value)})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"px-4 py-2 rounded bg-indigo-600 text-white disabled:opacity-60",disabled:g,children:g?"Transferring…":"Transfer"})})]})]})}export{w as default};
