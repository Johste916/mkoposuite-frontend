import{r as t,j as e,g as u}from"./index-CeHYLxUd.js";const c=l=>`TZS ${Number(l||0).toLocaleString()}`,r={container:"w-full px-4 md:px-6 lg:px-8 py-6 text-slate-900",h1:"text-3xl font-extrabold tracking-tight",kpiCard:"rounded-2xl border-2 border-slate-300 bg-white shadow p-4",kpiLabel:"text-[11px] uppercase tracking-wide text-slate-600 font-semibold",kpiValue:"mt-1 text-xl font-semibold",alert:"rounded-2xl border-2 border-rose-300 bg-rose-50 px-4 py-3 text-rose-800",skeleton:"rounded-2xl border-2 border-slate-300 bg-white shadow p-4",placeholderCard:"rounded-2xl border-2 border-slate-300 bg-white shadow p-4"},g=()=>{const[l,n]=t.useState([{label:"Active Borrowers",value:"0"},{label:"Total Outstanding",value:c(0)},{label:"PAR",value:"0%"}]),[p,o]=t.useState(!0),[d,i]=t.useState("");return t.useEffect(()=>{(async()=>{try{o(!0),i("");const s=await u.get("/borrowers/reports/summary"),{activeBorrowers:x,totalOutstanding:m,par:b}=(s==null?void 0:s.data)||{};n([{label:"Active Borrowers",value:`${x??0}`},{label:"Total Outstanding",value:c(m??0)},{label:"PAR",value:`${Number(b??0).toFixed(2)}%`}])}catch(s){console.error("Error loading borrower reports summary:",s),i("Failed to load borrower report data.")}finally{o(!1)}})()},[]),e.jsxs("div",{className:r.container,children:[e.jsx("h1",{className:r.h1,children:"Borrower Reports"}),p?e.jsx("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-3",children:[0,1,2].map(a=>e.jsxs("div",{className:r.skeleton,children:[e.jsx("div",{className:"mb-3 h-3 w-24 rounded bg-slate-200"}),e.jsx("div",{className:"h-6 w-32 rounded bg-slate-200"})]},a))}):d?e.jsx("div",{className:`${r.alert} mt-4`,children:d}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-3",children:l.map(a=>e.jsxs("div",{className:r.kpiCard,children:[e.jsx("div",{className:r.kpiLabel,children:a.label}),e.jsx("div",{className:r.kpiValue,children:a.value})]},a.label))}),e.jsx("div",{className:`${r.placeholderCard} mt-4`,children:e.jsx("div",{className:"text-sm text-slate-600",children:"Charts will go here (by branch, officer, risk tiers)."})})]})]})};export{g as default};
