import{j as e}from"./index-CATecf6t.js";import{u as h}from"./useSettingsResource-CBfCPFRi.js";import{S as l}from"./settings-C3ApTazM.js";import"./index-BZGlHpBY.js";function N(){const{data:s,setData:o,loading:i,saving:c,error:n,success:d,save:m}=h(l.getIncomeSourceSettings,l.saveIncomeSourceSettings,{sources:[]});if(i)return e.jsx("div",{className:"p-4 text-sm text-slate-500",children:"Loading…"});const u=()=>o({...s,sources:[...s.sources||[],""]}),x=(a,t)=>o({...s,sources:s.sources.map((r,g)=>g===a?t:r)}),p=a=>o({...s,sources:s.sources.filter((t,r)=>r!==a)});return e.jsxs("div",{className:"bg-white dark:bg-slate-900 border rounded-2xl p-4 space-y-3",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Income Source Settings"}),n&&e.jsx("div",{className:"text-sm text-rose-600",children:n}),d&&e.jsx("div",{className:"text-sm text-emerald-600",children:d}),e.jsxs("div",{className:"space-y-2",children:[(s.sources||[]).map((a,t)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{className:"flex-1 rounded border px-3 py-2 text-sm",value:a,onChange:r=>x(t,r.target.value)}),e.jsx("button",{className:"px-2 rounded bg-slate-100 text-sm",onClick:()=>p(t),children:"Remove"})]},t)),e.jsx("button",{className:"px-3 py-1.5 rounded bg-slate-100 text-sm",onClick:u,children:"Add Source"})]}),e.jsx("button",{className:"px-3 py-1.5 rounded bg-blue-600 text-white text-sm",onClick:()=>m(),disabled:c,children:c?"Saving…":"Save"})]})}export{N as default};
