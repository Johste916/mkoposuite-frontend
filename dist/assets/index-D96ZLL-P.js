var E=Object.defineProperty;var S=(t,e,n)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var u=(t,e,n)=>S(t,typeof e!="symbol"?e+"":e,n);import{i as h,j}from"./index-yEiZmsAc.js";const A=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),m=t=>Array.isArray(t)&&t.every(e=>typeof e=="object"&&!(e instanceof Array)),L=t=>Array.isArray(t)&&t.every(e=>Array.isArray(e)),U=t=>Array.from(t.map(e=>Object.keys(e)).reduce((e,n)=>new Set([...e,...n]),[])),P=(t,e)=>{e=e||U(t);let n=e,r=e;m(e)&&(n=e.map(o=>o.label),r=e.map(o=>o.key));const s=t.map(o=>r.map(a=>_(a,o)));return[n,...s]},_=(t,e)=>{const n=t.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(r,s,o,a){const c=r[s];if(c==null)a.splice(1);else return c},e);return n===void 0?t in e?e[t]:"":n},$=t=>typeof t>"u"||t===null?"":t,g=(t,e=",",n='"')=>t.filter(r=>r).map(r=>r.map(s=>$(s)).map(s=>`${n}${s}${n}`).join(e)).join(`
`),x=(t,e,n,r)=>g(e?[e,...t]:t,n,r),I=(t,e,n,r)=>g(P(t,e),n,r),D=(t,e,n,r)=>e?`${e.join(n)}
${t}`:t.replace(/"/g,'""'),b=(t,e,n,r)=>{if(m(t))return I(t,e,n,r);if(L(t))return x(t,e,n,r);if(typeof t=="string")return D(t,e,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},C=(t,e,n,r,s)=>{const o=b(t,n,r,s),a=A()?"application/csv":"text/csv",c=new Blob([e?"\uFEFF":"",o],{type:a}),l=`data:${a};charset=utf-8,${e?"\uFEFF":""}${o}`,p=window.URL||window.webkitURL;return typeof p.createObjectURL>"u"?l:p.createObjectURL(c)};var k={exports:{}},B="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",N=B,V=N;function v(){}function R(){}R.resetWarningCache=v;var W=function(){function t(r,s,o,a,c,l){if(l!==V){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:R,resetWarningCache:v};return n.PropTypes=n,n};k.exports=W();var i=k.exports;const F={data:i.oneOfType([i.string,i.array,i.func]).isRequired,headers:i.array,target:i.string,separator:i.string,filename:i.string,uFEFF:i.bool,onClick:i.func,asyncOnClick:i.bool,enclosingCharacter:i.string},O={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},H={target:"_blank"};class d extends h.Component{constructor(e){super(e),this.state={}}buildURI(){return C(...arguments)}componentDidMount(){const{data:e,headers:n,separator:r,enclosingCharacter:s,uFEFF:o,target:a,specs:c,replace:l}=this.props;this.state.page=window.open(this.buildURI(e,o,n,r,s),a,c,l)}getWindow(){return this.state.page}render(){return null}}u(d,"defaultProps",Object.assign(O,H)),u(d,"propTypes",F);var f;let q=(f=class extends h.Component{constructor(e){super(e),this.buildURI=this.buildURI.bind(this)}buildURI(){return C(...arguments)}handleLegacy(e,n=!1){if(window.navigator.msSaveOrOpenBlob){e.preventDefault();const{data:r,headers:s,separator:o,filename:a,enclosingCharacter:c,uFEFF:l}=this.props,p=n&&typeof r=="function"?r():r;let y=new Blob([l?"\uFEFF":"",b(p,s,o,c)]);return window.navigator.msSaveBlob(y,a),!1}}handleAsyncClick(e){const n=r=>{if(r===!1){e.preventDefault();return}this.handleLegacy(e,!0)};this.props.onClick(e,n)}handleSyncClick(e){if(this.props.onClick(e)===!1){e.preventDefault();return}this.handleLegacy(e)}handleClick(){return e=>{if(typeof this.props.onClick=="function")return this.props.asyncOnClick?this.handleAsyncClick(e):this.handleSyncClick(e);this.handleLegacy(e)}}render(){const{data:e,headers:n,separator:r,filename:s,uFEFF:o,children:a,onClick:c,asyncOnClick:l,enclosingCharacter:p,...y}=this.props,T=typeof window>"u"?"":this.buildURI(e,o,n,r,p);return j.jsx("a",{download:s,...y,ref:w=>this.link=w,target:"_self",href:T,onClick:this.handleClick(),children:a})}},u(f,"defaultProps",O),u(f,"propTypes",F),f);const z=q;export{z as C};
