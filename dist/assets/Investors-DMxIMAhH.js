import{u as p,j as e,D as j,F as b,v as u}from"./index-Bdf3nTDb.js";import{u as N}from"./usePaginatedFetch-pT_uOUa9.js";const v=({name:t="",src:a=""})=>{const l=(t||"INV").trim().slice(0,2).toUpperCase();return e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-800 flex items-center justify-center overflow-hidden",children:a?e.jsx("img",{src:a,alt:`${t} photo`,className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:l})})},i=t=>new Intl.NumberFormat().format(Number(t||0));function y(){const t=p(),{rows:a,total:l,page:d,setPage:n,limit:o,setLimit:x,q:m,setQ:h,loading:r,error:c}=N({url:"/investors"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Investors"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Manage your investors, their shares and contributions."})]}),e.jsxs("button",{onClick:()=>t("/investors/add"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(j,{})," Add Investor"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative w-full sm:w-80",children:[e.jsx(b,{className:"absolute left-3 top-2.5 text-slate-400"}),e.jsx("input",{value:m,onChange:s=>h(s.target.value),placeholder:"Search name, email or phone…",className:"w-full pl-9 pr-3 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900"})]}),e.jsx("select",{className:"px-2 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",value:o,onChange:s=>x(Number(s.target.value)),children:[10,20,50,100].map(s=>e.jsxs("option",{value:s,children:[s," / page"]},s))})]}),e.jsx("div",{className:"overflow-x-auto rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900",children:e.jsxs("table",{className:"min-w-[720px] w-full",children:[e.jsx("thead",{className:"text-left text-sm text-slate-500",children:e.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-800",children:[e.jsx("th",{className:"px-4 py-3",children:"Investor"}),e.jsx("th",{className:"px-4 py-3",children:"Shares"}),e.jsx("th",{className:"px-4 py-3",children:"Contributions"}),e.jsx("th",{className:"px-4 py-3",children:"Positions"}),e.jsx("th",{className:"px-4 py-3 text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"text-sm",children:[r&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-6 text-slate-500",children:"Loading…"})}),c&&!r&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-6 text-rose-600",children:"Failed to load investors."})}),!r&&!c&&a.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-6 text-slate-500",children:"No investors yet."})}),a.map(s=>e.jsxs("tr",{className:"border-t border-slate-100 dark:border-slate-800",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{name:s.name,src:s.photoUrl}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name||"—"}),e.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-2",children:[s.email||"—",e.jsx("span",{className:"text-slate-400",children:"•"}),s.phone||"—"]})]})]})}),e.jsx("td",{className:"px-4 py-3",children:i(s.shares)}),e.jsx("td",{className:"px-4 py-3",children:i(s.contributions)}),e.jsx("td",{className:"px-4 py-3",children:Array.isArray(s.positions)?s.positions.join(", "):s.positions||"—"}),e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsxs("button",{onClick:()=>t(`/investors/${s.id}`),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800",children:[e.jsx(u,{})," View"]})})]},s.id))]})]})}),l>0&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"text-slate-500",children:["Page ",d," • ",i(l)," total"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{disabled:d<=1,onClick:()=>n(s=>Math.max(1,s-1)),className:"px-3 py-1.5 rounded border disabled:opacity-50",children:"Prev"}),e.jsx("button",{onClick:()=>n(s=>s+1),className:"px-3 py-1.5 rounded border",children:"Next"})]})]})]})}export{y as default};
