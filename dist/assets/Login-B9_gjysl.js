import{r as a,u as S,j as e,F as _,a as k,b as E,c as L,L as b,d as F,e as C}from"./index-DN23t0SE.js";const A="https://mkoposuite-backend-42w2.onrender.com/api",n=A.replace(/\/+$/,""),O=/\/api$/i.test(n)?`${n}/login`:`${n}/api/login`,P="/brand/mkoposuite-logo.png",I=()=>{const[i,v]=a.useState(""),[o,f]=a.useState(""),[l,j]=a.useState(!1),[d,c]=a.useState(""),[m,x]=a.useState(!1),w=S();async function N(t){var u,p,g,h;t.preventDefault(),c(""),x(!0);try{const{data:s}=await C.post(O,{email:i,password:o}),{token:r,user:y}=s||{};if(!r)throw new Error("No token received from server");localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(y||{})),w("/")}catch(s){const r=((p=(u=s==null?void 0:s.response)==null?void 0:u.data)==null?void 0:p.error)||((h=(g=s==null?void 0:s.response)==null?void 0:g.data)==null?void 0:h.message)||"Invalid email or password";c(r)}finally{x(!1)}}return e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-slate-100 via-stone-100 to-slate-100",children:[e.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 opacity-[.10] bg-[radial-gradient(900px_520px_at_15%_-10%,rgba(16,185,129,0.18),transparent_70%)]"}),e.jsx("div",{className:"absolute inset-0 opacity-[.07] bg-[radial-gradient(780px_420px_at_95%_98%,rgba(245,158,11,0.15),transparent_70%)]"})]}),e.jsx("div",{className:"relative z-10 flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"rounded-2xl bg-white/98 backdrop-blur-sm shadow-[0_12px_40px_-10px_rgba(15,23,42,0.25)] ring-1 ring-slate-200",children:e.jsxs("div",{className:"px-8 pt-8 pb-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"pointer-events-none absolute -inset-3 rounded-[1.4rem] bg-gradient-to-b from-emerald-200/50 to-transparent blur-xl"}),e.jsx("div",{className:"relative grid place-items-center h-28 w-28 sm:h-32 sm:w-32 rounded-2xl bg-emerald-50 ring-1 ring-emerald-200/70 shadow-sm",children:e.jsx("img",{src:P,alt:"MkopoSuite",className:"h-20 w-auto sm:h-24 object-contain select-none",draggable:!1,loading:"eager"})})]}),e.jsx("p",{className:"mt-5 text-xs sm:text-sm text-slate-500",children:"Please login to continue"})]}),d?e.jsx("div",{role:"alert",className:"mt-4 rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:d}):null,e.jsxs("form",{onSubmit:N,className:"mt-5 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-slate-400",children:e.jsx(_,{})}),e.jsx("input",{type:"email",value:i,onChange:t=>v(t.target.value),className:"w-full rounded-lg border border-slate-300 bg-white pl-10 pr-3 py-2 text-sm shadow-sm outline-none transition focus:border-emerald-500/70 focus:ring-2 focus:ring-emerald-100",required:!0,placeholder:"admin@example.com",autoComplete:"email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-slate-400",children:e.jsx(k,{})}),e.jsx("input",{type:l?"text":"password",value:o,onChange:t=>f(t.target.value),className:"w-full rounded-lg border border-slate-300 bg-white pl-10 pr-10 py-2 text-sm shadow-sm outline-none transition focus:border-emerald-500/70 focus:ring-2 focus:ring-emerald-100",required:!0,placeholder:"Enter your password",autoComplete:"current-password"}),e.jsx("button",{type:"button",onClick:()=>j(t=>!t),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-400 hover:text-slate-600","aria-label":l?"Hide password":"Show password",children:l?e.jsx(E,{}):e.jsx(L,{})})]})]}),e.jsx("div",{className:"flex items-center justify-end text-sm",children:e.jsx(b,{to:"/forgot-password",className:"text-emerald-700 hover:text-emerald-800",children:"Forgot password?"})}),e.jsx("button",{type:"submit",disabled:m,className:"inline-flex w-full items-center justify-center rounded-xl bg-emerald-700 px-4 py-2.5 text-sm font-medium text-white shadow hover:bg-emerald-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-300 disabled:opacity-60",children:m?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 animate-spin"}),"Logging in…"]}):"Login"})]}),e.jsxs("div",{className:"mt-5 text-center text-sm text-slate-500",children:["Don’t have an account?"," ",e.jsx(b,{to:"/signup",className:"font-medium text-emerald-700 hover:text-emerald-800",children:"Create one"})]}),e.jsxs("div",{className:"mt-4 text-center text-[11px] text-slate-400",children:["© ",new Date().getFullYear()," MkopoSuite. All rights reserved."]})]})}),e.jsx("div",{className:"mx-auto mt-2 h-2 w-56 rounded-full bg-emerald-300/25 blur-md"})]})})]})};export{I as default};
