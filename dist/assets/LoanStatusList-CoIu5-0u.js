import{e as h,r,j as s,L as m,c as p}from"./index-C7zRMVMn.js";function u(){const{status:a}=h(),[d,n]=r.useState([]),[c,l]=r.useState(!1),o={pending:"Pending Approval",approved:"Approved Loans",rejected:"Rejected Loans",disbursed:"Disbursed Loans",active:"Active Loans",closed:"Closed Loans"}[a]||"Loans";return r.useEffect(()=>{(async()=>{try{l(!0);const t=await p.get("/loans",{params:{status:a}}),i=Array.isArray(t.data)?t.data:[];n(i.filter(x=>!a||x.status===a))}catch{n([])}finally{l(!1)}})()},[a]),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold",children:o}),s.jsx(m,{to:"/loans",className:"text-blue-600 underline",children:"All Loans"})]}),c?s.jsx("p",{children:"Loading…"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white rounded shadow border",children:[s.jsx("thead",{className:"bg-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-2 border",children:"Amount"}),s.jsx("th",{className:"p-2 border",children:"Rate"}),s.jsx("th",{className:"p-2 border",children:"Term"}),s.jsx("th",{className:"p-2 border",children:"Borrower"}),s.jsx("th",{className:"p-2 border",children:"Status"})]})}),s.jsxs("tbody",{children:[d.map(e=>{var t;return s.jsxs("tr",{children:[s.jsx("td",{className:"border px-2",children:e.amount}),s.jsx("td",{className:"border px-2",children:e.interestRate}),s.jsx("td",{className:"border px-2",children:e.termMonths}),s.jsx("td",{className:"border px-2",children:((t=e.Borrower)==null?void 0:t.name)||"—"}),s.jsx("td",{className:"border px-2",children:e.status})]},e.id)}),!d.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"text-center p-4",children:"No loans found."})})]})]})})]})}export{u as default};
