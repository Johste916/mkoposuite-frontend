import{u as b,w as i,j as e}from"./index-iSlS6Tx9.js";import{c as h}from"./cash-Bra6BSe5.js";import"./index-CGRxQRNG.js";function N(){const u=b(),[n,p]=i.useState({name:"",openingBalance:"",currentBalance:"",currency:"TZS",isActive:!0}),[o,d]=i.useState(!1),[m,l]=i.useState(null);function s(a,c){p(r=>({...r,[a]:c}))}async function x(a){var c,r;if(a.preventDefault(),l(null),!n.name.trim())return l("Name is required");try{d(!0),await h({name:n.name.trim(),openingBalance:Number(n.openingBalance||0),currentBalance:n.currentBalance===""?void 0:Number(n.currentBalance),currency:(n.currency||"TZS").toUpperCase(),isActive:!!n.isActive}),u("/banking/cash-accounts")}catch(t){l(((r=(c=t==null?void 0:t.response)==null?void 0:c.data)==null?void 0:r.error)||t.message)}finally{d(!1)}}return e.jsxs("div",{className:"p-4 max-w-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Add Cash Account"}),m&&e.jsx("div",{className:"mb-3 text-red-600",children:m}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"Name"}),e.jsx("input",{className:"w-full border rounded p-2",value:n.name,onChange:a=>s("name",a.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"Currency"}),e.jsx("input",{className:"w-full border rounded p-2",value:n.currency,onChange:a=>s("currency",a.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"Opening Balance"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full border rounded p-2",value:n.openingBalance,onChange:a=>s("openingBalance",a.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-1",children:"Current Balance (optional)"}),e.jsx("input",{type:"number",step:"0.01",className:"w-full border rounded p-2",value:n.currentBalance,onChange:a=>s("currentBalance",a.target.value)})]})]}),e.jsxs("label",{className:"inline-flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:n.isActive,onChange:a=>s("isActive",a.target.checked)}),e.jsx("span",{children:"Active"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{disabled:o,className:"px-4 py-2 rounded bg-blue-600 text-white",children:o?"Savingâ€¦":"Save"}),e.jsx("button",{type:"button",onClick:()=>u(-1),className:"px-4 py-2 rounded border",children:"Cancel"})]})]})]})}export{N as default};
