import{a as c}from"./index-CosGzjM2.js";const p="https://mkoposuite-backend-42w2.onrender.com/api".replace(/\/+$/,"")||`${window.location.origin}/api`,i=c.create({baseURL:p,withCredentials:!1}),l=["token","authToken","accessToken","jwt"];i.interceptors.request.use(e=>{let o=null;for(const s of l)if(o=localStorage.getItem(s)||sessionStorage.getItem(s),o)break;return o&&(e.headers.Authorization=`Bearer ${o.replace(/^Bearer /i,"")}`),e});i.interceptors.response.use(e=>e,e=>{var s,t,a,n;const o=((t=(s=e==null?void 0:e.response)==null?void 0:s.data)==null?void 0:t.error)||((n=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:n.message)||(e==null?void 0:e.message)||"Request failed";return console.error("API error:",o,(e==null?void 0:e.response)||e),Promise.reject(e)});export{i as a};
