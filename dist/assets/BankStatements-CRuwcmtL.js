import{r as a,g as d,j as e}from"./index-BR01ehMu.js";const j="bg-white rounded-2xl shadow-sm ring-1 ring-black/5 p-5 md:p-7";function N(){var l;const[i,o]=a.useState([]),[n,p]=a.useState(""),[r,m]=a.useState(""),[c,h]=a.useState(""),[s,x]=a.useState(null);a.useEffect(()=>{d.get("/banks").then(t=>o(t.data||[]))},[]);const u=async()=>{if(!n)return;const t=await d.get(`/banks/${n}/statement`,{params:{from:r,to:c,includeOpening:1}});x(t.data)};return e.jsxs("div",{className:"p-4 md:p-6 lg:p-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Bank Statement"}),e.jsxs("section",{className:j,children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-2 mb-3",children:[e.jsxs("select",{className:"border rounded px-3 py-2",value:n,onChange:t=>p(t.target.value),children:[e.jsx("option",{value:"",children:"— bank —"}),i.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx("input",{type:"date",className:"border rounded px-3 py-2",value:r,onChange:t=>m(t.target.value)}),e.jsx("input",{type:"date",className:"border rounded px-3 py-2",value:c,onChange:t=>h(t.target.value)}),e.jsx("button",{className:"px-3 py-2 rounded bg-indigo-600 text-white",onClick:u,children:"Generate"})]}),s&&e.jsxs("div",{children:[s.opening!=null&&e.jsxs("div",{className:"mb-2 text-sm text-gray-600",children:["Opening: ",Number(s.opening).toLocaleString()]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left text-gray-600",children:[e.jsx("th",{className:"py-2 pr-4",children:"Date"}),e.jsx("th",{className:"py-2 pr-4",children:"Type"}),e.jsx("th",{className:"py-2 pr-4",children:"Dir"}),e.jsx("th",{className:"py-2 pr-4 text-right",children:"Amount"}),e.jsx("th",{className:"py-2 pr-4",children:"Ref"})]})}),e.jsxs("tbody",{children:[(l=s.items)==null?void 0:l.map(t=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"py-2 pr-4",children:t.occurredAt?new Date(t.occurredAt).toLocaleString():"—"}),e.jsx("td",{className:"py-2 pr-4",children:t.type}),e.jsx("td",{className:"py-2 pr-4",children:t.direction}),e.jsxs("td",{className:"py-2 pr-4 text-right",children:[Number(t.amount).toLocaleString()," ",t.currency||"TZS"]}),e.jsx("td",{className:"py-2 pr-4",children:t.reference||"—"})]},t.id)),(!s.items||!s.items.length)&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500",children:"No rows"})})]})]})})]})]})]})}export{N as default};
