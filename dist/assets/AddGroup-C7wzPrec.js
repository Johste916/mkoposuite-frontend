import{r as m,j as e,g as x}from"./index-2ZVrRahO.js";async function p(a=[],l={},n={}){let r;for(const o of a)try{const s=await x.post(o,l,n);return s==null?void 0:s.data}catch(s){r=s}throw r||new Error("No endpoint succeeded")}const b=()=>{const[a,l]=m.useState({name:"",branchId:"",meetingDay:"",officerId:"",notes:""}),[n,r]=m.useState(!1),[o,s]=m.useState(""),t=d=>l(c=>({...c,[d.target.name]:d.target.value})),u=async d=>{d.preventDefault(),r(!0),s("");try{const c={name:a.name,branchId:a.branchId||null,meetingDay:a.meetingDay||null,officerId:a.officerId||null,notes:a.notes||null},i=await p(["/borrowers/groups","/groups","/borrower-groups","/api/borrowers/groups"],c);s("✅ Group created."),i!=null&&i.id,l({name:"",branchId:"",meetingDay:"",officerId:"",notes:""})}catch{s("❌ Failed to create group (endpoint not implemented).")}finally{r(!1)}};return e.jsxs("div",{className:"p-4 max-w-2xl",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Add Group"}),e.jsxs("form",{onSubmit:u,className:"space-y-3 bg-white p-4 rounded-xl border shadow",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Name"}),e.jsx("input",{name:"name",value:a.name,onChange:t,required:!0,className:"w-full border rounded-lg px-3 py-2",placeholder:"Group name"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Branch"}),e.jsx("input",{name:"branchId",value:a.branchId,onChange:t,className:"w-full border rounded-lg px-3 py-2",placeholder:"Branch ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Officer"}),e.jsx("input",{name:"officerId",value:a.officerId,onChange:t,className:"w-full border rounded-lg px-3 py-2",placeholder:"Officer ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Meeting Day"}),e.jsx("input",{name:"meetingDay",value:a.meetingDay,onChange:t,className:"w-full border rounded-lg px-3 py-2",placeholder:"e.g. Monday"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{name:"notes",value:a.notes,onChange:t,className:"w-full border rounded-lg px-3 py-2",rows:3})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-60",children:n?"Saving…":"Create Group"}),o&&e.jsx("div",{className:"text-sm",children:o})]})]})]})};export{b as default};
