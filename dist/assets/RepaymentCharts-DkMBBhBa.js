import{r as i,j as A}from"./index-DzNpvMXd.js";import{l as na}from"./repayments-ByRlRBb-.js";import{t as ia,c as oa,f as fe}from"./format-DWu4U6B8.js";import{c as V,as as Ce,U as Z,Z as D,at as H,au as la,av as sa,aw as B,ax as ca,ay as ua,az as Te,aA as da,aB as pa,D as L,aC as va,a1 as Q,aD as ma,aE as fa,aF as ha,aG as ya,aH as ga,aI as Pa,x as ee,_ as ba,r as U,R as Ne,aJ as Aa,A as Le,u as Y,aK as xa,t as Re,G as ke,C as le,L as K,i as he,Y as q,aL as te,aM as Ea,ad as J,P as _e,Q as Ke,aN as Oa,aO as ye,J as Me,K as Ia,M as Da,N as ja,aP as Sa,aQ as wa,a as Ca,n as Ta,O as G,aR as $e,aS as Na,aT as La,o as re,$ as We,a0 as Be,a2 as Ra,a4 as ka,aU as _a,a3 as ge,p as Fe,q as Ka,v as Ma,y as $a,aV as Wa,z as Ba,aW as Ge,E as Fa,B as Ga,aX as Pe,T as z,W as Va,am as za,an as Ve,j as Ua,aY as Ya,aZ as be,a_ as Xa,a$ as qa,b0 as Ja,b1 as Za,b2 as Ha,ao as Ae,ap as Qa,aq as et,ar as xe}from"./CartesianChart-D5w543bo.js";function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},ne.apply(null,arguments)}var ze=e=>{var{cx:a,cy:r,r:t,className:n}=e,o=V("recharts-dot",n);return a===+a&&r===+r&&t===+t?i.createElement("circle",ne({},Z(e),Ce(e),{className:o,cx:a,cy:r,r:t})):null},Ue=e=>e.graphicalItems.polarItems,at=D([H,la],sa),se=D([Ue,B,at],ca),tt=D([se],ua),ce=D([tt,Te],da),rt=D([ce,B,se],pa),nt=D([ce,B,se],(e,a,r)=>r.length>0?e.flatMap(t=>r.flatMap(n=>{var o,s=L(t,(o=a.dataKey)!==null&&o!==void 0?o:n.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(a==null?void 0:a.dataKey)!=null?e.map(t=>({value:L(t,a.dataKey),errorDomain:[]})):e.map(t=>({value:t,errorDomain:[]}))),Ee=()=>{},it=D([B,va,Ee,nt,Ee,Q,H],ma),Ye=D([B,Q,ce,rt,fa,H,it],ha),ot=D([Ye,B,ya],ga);D([B,Ye,ot,H],Pa);function Oe(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function Ie(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Oe(Object(r),!0).forEach(function(t){lt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lt(e,a,r){return(a=st(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function st(e){var a=ct(e,"string");return typeof a=="symbol"?a:a+""}function ct(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var ut=(e,a)=>a,ue=D([Ue,ut],(e,a)=>e.filter(r=>r.type==="pie").find(r=>r.id===a)),dt=[],de=(e,a,r)=>(r==null?void 0:r.length)===0?dt:r,Xe=D([Te,ue,de],(e,a,r)=>{var{chartData:t}=e;if(a!=null){var n;if((a==null?void 0:a.data)!=null&&a.data.length>0?n=a.data:n=t,(!n||!n.length)&&r!=null&&(n=r.map(o=>Ie(Ie({},a.presentationProps),o.props))),n!=null)return n}}),pt=D([Xe,ue,de],(e,a,r)=>{if(!(e==null||a==null))return e.map((t,n)=>{var o,s=L(t,a.nameKey,a.name),c;return r!=null&&(o=r[n])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?c=r[n].props.fill:typeof t=="object"&&t!=null&&"fill"in t?c=t.fill:c=a.fill,{value:ee(s,a.dataKey),color:c,payload:t,type:a.legendType}})}),vt=D([Xe,ue,de,ba],(e,a,r,t)=>{if(!(a==null||e==null))return Ct({offset:t,pieSettings:a,displayedData:e,cells:r})}),mt=["onMouseEnter","onClick","onMouseLeave"],ft=["id"],ht=["id"];function pe(e,a){if(e==null)return{};var r,t,n=yt(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yt(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}function De(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function y(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?De(Object(r),!0).forEach(function(t){gt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gt(e,a,r){return(a=Pt(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Pt(e){var a=bt(e,"string");return typeof a=="symbol"?a:a+""}function bt(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},_.apply(null,arguments)}function At(e){var a=i.useMemo(()=>Le(e.children,le),[e.children]),r=Y(t=>pt(t,e.id,a));return r==null?null:i.createElement(xa,{legendPayload:r})}function xt(e){var{dataKey:a,nameKey:r,sectors:t,stroke:n,strokeWidth:o,fill:s,name:c,hide:u,tooltipType:l}=e;return{dataDefinedOnItem:t==null?void 0:t.map(d=>d.tooltipPayload),positions:t==null?void 0:t.map(d=>d.tooltipPosition),settings:{stroke:n,strokeWidth:o,fill:s,dataKey:a,nameKey:r,name:ee(c,a),hide:u,type:l,color:s,unit:""}}}var Et=(e,a)=>e>a?"start":e<a?"end":"middle",Ot=(e,a,r)=>typeof a=="function"?a(e):J(a,r,r*.8),It=(e,a,r)=>{var{top:t,left:n,width:o,height:s}=a,c=Ea(o,s),u=n+J(e.cx,o,o/2),l=t+J(e.cy,s,s/2),d=J(e.innerRadius,c,0),m=Ot(r,e.outerRadius,c),p=e.maxRadius||Math.sqrt(o*o+s*s)/2;return{cx:u,cy:l,innerRadius:d,outerRadius:m,maxRadius:p}},Dt=(e,a)=>{var r=q(a-e),t=Math.min(Math.abs(a-e),360);return r*t},jt=(e,a)=>{if(i.isValidElement(e))return i.cloneElement(e,a);if(typeof e=="function")return e(a);var r=V("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return i.createElement($e,_({},a,{type:"linear",className:r}))},St=(e,a,r)=>{if(i.isValidElement(e))return i.cloneElement(e,a);var t=r;if(typeof e=="function"&&(t=e(a),i.isValidElement(t)))return t;var n=V("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return i.createElement(Na,_({},a,{alignmentBaseline:"middle",className:n}),t)};function wt(e){var{sectors:a,props:r,showLabels:t}=e,{label:n,labelLine:o,dataKey:s}=r;if(!t||!n||!a)return null;var c=Z(r),u=G(n,!1),l=G(o,!1),d=typeof n=="object"&&"offsetRadius"in n&&n.offsetRadius||20,m=a.map((p,h)=>{var v=(p.startAngle+p.endAngle)/2,f=te(p.cx,p.cy,p.outerRadius+d,v),P=y(y(y(y({},c),p),{},{stroke:"none"},u),{},{index:h,textAnchor:Et(f.x,p.cx)},f),j=y(y(y(y({},c),p),{},{fill:"none",stroke:p.fill},l),{},{index:h,points:[te(p.cx,p.cy,p.outerRadius,v),f],key:"line"});return i.createElement(K,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(h)},o&&jt(o,j),St(n,P,L(p,s)))});return i.createElement(K,{className:"recharts-pie-labels"},m)}function qe(e){var{sectors:a,activeShape:r,inactiveShape:t,allOtherPieProps:n,showLabels:o}=e,s=Y(Me),{onMouseEnter:c,onClick:u,onMouseLeave:l}=n,d=pe(n,mt),m=Ia(c,n.dataKey),p=Da(l),h=ja(u,n.dataKey);return a==null?null:i.createElement(i.Fragment,null,a.map((v,f)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&a.length!==1)return null;var P=r&&String(f)===s,j=s?t:null,w=P?r:j,g=y(y({},v),{},{stroke:v.stroke,tabIndex:-1,[wa]:f,[Sa]:n.dataKey});return i.createElement(K,_({tabIndex:-1,className:"recharts-pie-sector"},Ca(d,v,f),{onMouseEnter:m(v,f),onMouseLeave:p(v,f),onClick:h(v,f),key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(f)}),i.createElement(Ta,_({option:w,isActive:P,shapeType:"sector"},g)))}),i.createElement(wt,{sectors:a,props:n,showLabels:o}))}function Ct(e){var a,{pieSettings:r,displayedData:t,cells:n,offset:o}=e,{cornerRadius:s,startAngle:c,endAngle:u,dataKey:l,nameKey:d,tooltipType:m}=r,p=Math.abs(r.minAngle),h=Dt(c,u),v=Math.abs(h),f=t.length<=1?0:(a=r.paddingAngle)!==null&&a!==void 0?a:0,P=t.filter(b=>L(b,l,0)!==0).length,j=(v>=360?P:P-1)*f,w=v-P*p-j,g=t.reduce((b,x)=>{var E=L(x,l,0);return b+(he(E)?E:0)},0),R;if(g>0){var S;R=t.map((b,x)=>{var E=L(b,l,0),O=L(b,d,x),T=It(r,o,b),k=(he(E)?E:0)/g,C,M=y(y({},b),n&&n[x]&&n[x].props);x?C=S.endAngle+q(h)*f*(E!==0?1:0):C=c;var F=C+q(h)*((E!==0?p:0)+k*w),$=(C+F)/2,I=(T.innerRadius+T.outerRadius)/2,ae=[{name:O,value:E,payload:M,dataKey:l,type:m}],X=te(T.cx,T.cy,I,$);return S=y(y(y(y({},r.presentationProps),{},{percent:k,cornerRadius:s,name:O,tooltipPayload:ae,midAngle:$,middleRadius:I,tooltipPosition:X},M),T),{},{value:L(b,l),startAngle:C,endAngle:F,payload:M,paddingAngle:q(h)*f}),S})}return R}function Tt(e){var{props:a,previousSectorsRef:r}=e,{sectors:t,isAnimationActive:n,animationBegin:o,animationDuration:s,animationEasing:c,activeShape:u,inactiveShape:l,onAnimationStart:d,onAnimationEnd:m}=a,p=_e(a,"recharts-pie-"),h=r.current,[v,f]=i.useState(!0),P=i.useCallback(()=>{typeof m=="function"&&m(),f(!1)},[m]),j=i.useCallback(()=>{typeof d=="function"&&d(),f(!0)},[d]);return i.createElement(Ke,{begin:o,duration:s,isActive:n,easing:c,onAnimationStart:j,onAnimationEnd:P,key:p},w=>{var g=[],R=t&&t[0],S=R.startAngle;return t.forEach((b,x)=>{var E=h&&h[x],O=x>0?Oa(b,"paddingAngle",0):0;if(E){var T=ye(E.endAngle-E.startAngle,b.endAngle-b.startAngle),k=y(y({},b),{},{startAngle:S+O,endAngle:S+T(w)+O});g.push(k),S=k.endAngle}else{var{endAngle:C,startAngle:M}=b,F=ye(0,C-M),$=F(w),I=y(y({},b),{},{startAngle:S+O,endAngle:S+$+O});g.push(I),S=I.endAngle}}),r.current=g,i.createElement(K,null,i.createElement(qe,{sectors:g,activeShape:u,inactiveShape:l,allOtherPieProps:a,showLabels:!v}))})}function Nt(e){var{sectors:a,isAnimationActive:r,activeShape:t,inactiveShape:n}=e,o=i.useRef(null),s=o.current;return r&&a&&a.length&&(!s||s!==a)?i.createElement(Tt,{props:e,previousSectorsRef:o}):i.createElement(qe,{sectors:a,activeShape:t,inactiveShape:n,allOtherPieProps:e,showLabels:!0})}function Lt(e){var{hide:a,className:r,rootTabIndex:t}=e,n=V("recharts-pie",r);return a?null:i.createElement(K,{tabIndex:t,className:n},i.createElement(Nt,e))}var Rt={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ke.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function kt(e){var{id:a}=e,r=pe(e,ft),t=i.useMemo(()=>Le(e.children,le),[e.children]),n=Y(o=>vt(o,a,t));return i.createElement(i.Fragment,null,i.createElement(Re,{fn:xt,args:y(y({},e),{},{sectors:n})}),i.createElement(Lt,_({},r,{sectors:n})))}function Je(e){var a=U(e,Rt),{id:r}=a,t=pe(a,ht),n=Z(t);return i.createElement(Ne,{id:r,type:"pie"},o=>i.createElement(i.Fragment,null,i.createElement(Aa,{type:"pie",id:o,data:t.data,dataKey:t.dataKey,hide:t.hide,angleAxisId:0,radiusAxisId:0,name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,legendType:t.legendType,fill:t.fill,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,paddingAngle:t.paddingAngle,minAngle:t.minAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,presentationProps:n}),i.createElement(At,_({},t,{id:o})),i.createElement(kt,_({},t,{id:o})),t.children))}Je.displayName="Pie";function je(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function Se(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?je(Object(r),!0).forEach(function(t){_t(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _t(e,a,r){return(a=Kt(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Kt(e){var a=Mt(e,"string");return typeof a=="symbol"?a:a+""}function Mt(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var $t=e=>{var{point:a,childIndex:r,mainColor:t,activeDot:n,dataKey:o}=e;if(n===!1||a.x==null||a.y==null)return null;var s=Se(Se({index:r,dataKey:o,cx:a.x,cy:a.y,r:4,fill:t??"none",strokeWidth:2,stroke:"#fff",payload:a.payload,value:a.value},G(n,!1)),Ce(n)),c;return i.isValidElement(n)?c=i.cloneElement(n,s):typeof n=="function"?c=n(s):c=i.createElement(ze,s),i.createElement(K,{className:"recharts-active-dot"},c)};function Wt(e){var{points:a,mainColor:r,activeDot:t,itemDataKey:n}=e,o=Y(Me),s=La();if(a==null||s==null)return null;var c=a.find(u=>s.includes(u.payload));return re(c)?null:$t({point:c,childIndex:Number(o),mainColor:r,dataKey:n,activeDot:t})}var Ze=(e,a,r,t)=>We(e,"xAxis",a,t),He=(e,a,r,t)=>Be(e,"xAxis",a,t),Qe=(e,a,r,t)=>We(e,"yAxis",r,t),ea=(e,a,r,t)=>Be(e,"yAxis",r,t),Bt=D([Q,Ze,Qe,He,ea],(e,a,r,t,n)=>_a(e,"xAxis")?ge(a,t,!1):ge(r,n,!1)),Ft=(e,a,r,t,n)=>n;function Gt(e){return e.type==="line"}var Vt=D([ka,Ft],(e,a)=>e.filter(Gt).find(r=>r.id===a)),zt=D([Q,Ze,Qe,He,ea,Vt,Bt,Ra],(e,a,r,t,n,o,s,c)=>{var{chartData:u,dataStartIndex:l,dataEndIndex:d}=c;if(!(o==null||a==null||r==null||t==null||n==null||t.length===0||n.length===0||s==null)){var{dataKey:m,data:p}=o,h;if(p!=null&&p.length>0?h=p:h=u==null?void 0:u.slice(l,d+1),h!=null)return pr({layout:e,xAxis:a,yAxis:r,xAxisTicks:t,yAxisTicks:n,dataKey:m,bandSize:s,displayedData:h})}}),Ut=["id"],Yt=["type","layout","connectNulls","needClip"],Xt=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function we(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function N(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?we(Object(r),!0).forEach(function(t){qt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qt(e,a,r){return(a=Jt(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Jt(e){var a=Zt(e,"string");return typeof a=="symbol"?a:a+""}function Zt(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function ve(e,a){if(e==null)return{};var r,t,n=Ht(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ht(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}function W(){return W=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},W.apply(null,arguments)}var Qt=e=>{var{dataKey:a,name:r,stroke:t,legendType:n,hide:o}=e;return[{inactive:o,dataKey:a,type:n,color:t,value:ee(r,a),payload:e}]};function er(e){var{dataKey:a,data:r,stroke:t,strokeWidth:n,fill:o,name:s,hide:c,unit:u}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:t,strokeWidth:n,fill:o,dataKey:a,nameKey:void 0,name:ee(s,a),hide:c,type:e.tooltipType,color:e.stroke,unit:u}}}var aa=(e,a)=>"".concat(a,"px ").concat(e-a,"px");function ar(e,a){for(var r=e.length%2!==0?[...e,0]:e,t=[],n=0;n<a;++n)t=[...t,...r];return t}var tr=(e,a,r)=>{var t=r.reduce((m,p)=>m+p);if(!t)return aa(a,e);for(var n=Math.floor(e/t),o=e%t,s=a-e,c=[],u=0,l=0;u<r.length;l+=r[u],++u)if(l+r[u]>o){c=[...r.slice(0,u),o-l];break}var d=c.length%2===0?[0,s]:[s];return[...ar(r,n),...c,...d].map(m=>"".concat(m,"px")).join(", ")};function rr(e,a){var r;if(i.isValidElement(e))r=i.cloneElement(e,a);else if(typeof e=="function")r=e(a);else{var t=V("recharts-line-dot",typeof e!="boolean"?e.className:"");r=i.createElement(ze,W({},a,{className:t}))}return r}function nr(e,a){return e==null?!1:a?!0:e.length===1}function ir(e){var{clipPathId:a,points:r,props:t}=e,{dot:n,dataKey:o,needClip:s}=t;if(!nr(r,n))return null;var{id:c}=t,u=ve(t,Ut),l=Ge(n),d=Z(u),m=G(n,!0),p=r.map((v,f)=>{var P=N(N(N({key:"dot-".concat(f),r:3},d),m),{},{index:f,cx:v.x,cy:v.y,dataKey:o,value:v.value,payload:v.payload,points:r});return rr(n,P)}),h={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(a,")"):void 0};return i.createElement(K,W({className:"recharts-line-dots",key:"dots"},h),p)}function ie(e){var{clipPathId:a,pathRef:r,points:t,strokeDasharray:n,props:o,showLabels:s}=e,{type:c,layout:u,connectNulls:l,needClip:d}=o,m=ve(o,Yt),p=N(N({},G(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(a,")"):void 0,points:t,type:c,layout:u,connectNulls:l,strokeDasharray:n??o.strokeDasharray});return i.createElement(i.Fragment,null,(t==null?void 0:t.length)>1&&i.createElement($e,W({},p,{pathRef:r})),i.createElement(ir,{points:t,clipPathId:a,props:o}),s&&Va.renderCallByParent(o,t))}function or(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function lr(e){var{clipPathId:a,props:r,pathRef:t,previousPointsRef:n,longestAnimatedLengthRef:o}=e,{points:s,strokeDasharray:c,isAnimationActive:u,animationBegin:l,animationDuration:d,animationEasing:m,animateNewValues:p,width:h,height:v,onAnimationEnd:f,onAnimationStart:P}=r,j=n.current,w=_e(r,"recharts-line-"),[g,R]=i.useState(!1),S=i.useCallback(()=>{typeof f=="function"&&f(),R(!1)},[f]),b=i.useCallback(()=>{typeof P=="function"&&P(),R(!0)},[P]),x=or(t.current),E=o.current;return i.createElement(Ke,{begin:l,duration:d,isActive:u,easing:m,onAnimationEnd:S,onAnimationStart:b,key:w},O=>{var T=z(E,x+E,O),k=Math.min(T,x),C;if(c){var M="".concat(c).split(/[,\s]+/gim).map(I=>parseFloat(I));C=tr(k,x,M)}else C=aa(x,k);if(j){var F=j.length/s.length,$=O===1?s:s.map((I,ae)=>{var X=Math.floor(ae*F);if(j[X]){var me=j[X];return N(N({},I),{},{x:z(me.x,I.x,O),y:z(me.y,I.y,O)})}return p?N(N({},I),{},{x:z(h*2,I.x,O),y:z(v/2,I.y,O)}):N(N({},I),{},{x:I.x,y:I.y})});return n.current=$,i.createElement(ie,{props:r,points:$,clipPathId:a,pathRef:t,showLabels:!g,strokeDasharray:C})}return O>0&&x>0&&(n.current=s,o.current=k),i.createElement(ie,{props:r,points:s,clipPathId:a,pathRef:t,showLabels:!g,strokeDasharray:C})})}function sr(e){var{clipPathId:a,props:r}=e,{points:t,isAnimationActive:n}=r,o=i.useRef(null),s=i.useRef(0),c=i.useRef(null),u=o.current;return n&&t&&t.length&&u!==t?i.createElement(lr,{props:r,clipPathId:a,previousPointsRef:o,longestAnimatedLengthRef:s,pathRef:c}):i.createElement(ie,{props:r,points:t,clipPathId:a,pathRef:c,showLabels:!0})}var cr=(e,a)=>({x:e.x,y:e.y,value:e.value,errorVal:L(e.payload,a)});class ur extends i.Component{render(){var a,{hide:r,dot:t,points:n,className:o,xAxisId:s,yAxisId:c,top:u,left:l,width:d,height:m,id:p,needClip:h}=this.props;if(r)return null;var v=V("recharts-line",o),f=p,{r:P=3,strokeWidth:j=2}=(a=G(t,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},w=Ge(t),g=P*2+j;return i.createElement(i.Fragment,null,i.createElement(K,{className:v},h&&i.createElement("defs",null,i.createElement(Fa,{clipPathId:f,xAxisId:s,yAxisId:c}),!w&&i.createElement("clipPath",{id:"clipPath-dots-".concat(f)},i.createElement("rect",{x:l-g/2,y:u-g/2,width:d+g,height:m+g}))),i.createElement(sr,{props:this.props,clipPathId:f}),i.createElement(Ga,{xAxisId:s,yAxisId:c,data:n,dataPointFormatter:cr,errorBarOffset:0},this.props.children)),i.createElement(Wt,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var ta={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ke.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function dr(e){var a=U(e,ta),{activeDot:r,animateNewValues:t,animationBegin:n,animationDuration:o,animationEasing:s,connectNulls:c,dot:u,hide:l,isAnimationActive:d,label:m,legendType:p,xAxisId:h,yAxisId:v,id:f}=a,P=ve(a,Xt),{needClip:j}=$a(h,v),w=Wa(),g=Ba(),R=Fe(),S=Y(T=>zt(T,h,v,R,f));if(g!=="horizontal"&&g!=="vertical"||S==null||w==null)return null;var{height:b,width:x,x:E,y:O}=w;return i.createElement(ur,W({},P,{id:f,connectNulls:c,dot:u,activeDot:r,animateNewValues:t,animationBegin:n,animationDuration:o,animationEasing:s,isAnimationActive:d,hide:l,label:m,legendType:p,xAxisId:h,yAxisId:v,points:S,layout:g,height:b,width:x,left:E,top:O,needClip:j}))}function pr(e){var{layout:a,xAxis:r,yAxis:t,xAxisTicks:n,yAxisTicks:o,dataKey:s,bandSize:c,displayedData:u}=e;return u.map((l,d)=>{var m=L(l,s);if(a==="horizontal"){var p=Pe({axis:r,ticks:n,bandSize:c,entry:l,index:d}),h=re(m)?null:t.scale(m);return{x:p,y:h,value:m,payload:l}}var v=re(m)?null:r.scale(m),f=Pe({axis:t,ticks:o,bandSize:c,entry:l,index:d});return v==null||f==null?null:{x:v,y:f,value:m,payload:l}}).filter(Boolean)}function ra(e){var a=U(e,ta),r=Fe();return i.createElement(Ne,{id:a.id,type:"line"},t=>i.createElement(i.Fragment,null,i.createElement(Ka,{legendPayload:Qt(a)}),i.createElement(Re,{fn:er,args:a}),i.createElement(Ma,{type:"line",id:t,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,hide:a.hide,isPanorama:r}),i.createElement(dr,W({},a,{id:t}))))}ra.displayName="Line";var vr=["axis"],mr=i.forwardRef((e,a)=>i.createElement(za,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vr,tooltipPayloadSearcher:Ve,categoricalChartProps:e,ref:a}));function fr(e){var a=Ua();return i.useEffect(()=>{a(Ya(e))},[a,e]),null}var hr=["width","height","layout"];function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},oe.apply(null,arguments)}function yr(e,a){if(e==null)return{};var r,t,n=gr(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gr(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var Pr={top:5,right:5,bottom:5,left:5},br={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Pr,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Ar=i.forwardRef(function(a,r){var t,n=U(a.categoricalChartProps,br),{width:o,height:s,layout:c}=n,u=yr(n,hr);if(!be(o)||!be(s))return null;var{chartName:l,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:p}=a,h={chartName:l,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:p,eventEmitter:void 0};return i.createElement(Xa,{preloadedState:{options:h},reduxStoreName:(t=n.id)!==null&&t!==void 0?t:l},i.createElement(qa,{chartData:n.data}),i.createElement(Ja,{width:o,height:s,layout:c,margin:n.margin}),i.createElement(Za,{accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className}),i.createElement(fr,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),i.createElement(Ha,oe({width:o,height:s},u,{ref:r})))}),xr=["item"],Er={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Or=i.forwardRef((e,a)=>{var r=U(e,Er);return i.createElement(Ar,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:xr,tooltipPayloadSearcher:Ve,categoricalChartProps:r,ref:a})});function Ir(e,a,r){const t=ia(e,r==null?void 0:r.in);return isNaN(a)?oa(e,NaN):(t.setDate(t.getDate()+a),t)}function Dr(e,a,r){return Ir(e,-60,r)}function Tr(){const[e,a]=i.useState([]),[r,t]=i.useState(!1),n=new Date,o=Dr(n);i.useEffect(()=>{(async()=>{t(!0);try{const l=await na({dateFrom:fe(o,"yyyy-MM-dd"),dateTo:fe(n,"yyyy-MM-dd"),pageSize:1e3,page:1}),d=Array.isArray(l==null?void 0:l.items)?l.items:Array.isArray(l)?l:[];a(d)}catch{a([])}finally{t(!1)}})()},[]);const s=i.useMemo(()=>{const u=new Map;for(const l of e){const d=(l.date||l.paymentDate||l.createdAt||"").slice(0,10),m=Number(l.amount??l.amountPaid??0);u.set(d,(u.get(d)||0)+m)}return Array.from(u.entries()).map(([l,d])=>({date:l,total:d})).sort((l,d)=>l.date<d.date?-1:1)},[e]),c=i.useMemo(()=>{const u=new Map;for(const l of e){const d=(l.method||"cash").toLowerCase(),m=Number(l.amount??l.amountPaid??0);u.set(d,(u.get(d)||0)+m)}return Array.from(u.entries()).map(([l,d])=>({name:l,value:d}))},[e]);return A.jsx("div",{className:"space-y-6",children:A.jsxs("div",{className:"bg-white border rounded-xl shadow p-6",children:[A.jsx("h2",{className:"text-xl font-semibold",children:"Repayment Charts"}),A.jsx("p",{className:"text-sm text-gray-500",children:"Last 60 days"}),r?A.jsx("div",{className:"mt-6",children:"Loadingâ€¦"}):A.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mt-6",children:[A.jsx("div",{className:"h-64",children:A.jsx(Ae,{width:"100%",height:"100%",children:A.jsxs(mr,{data:s,children:[A.jsx(Qa,{dataKey:"date"}),A.jsx(et,{}),A.jsx(xe,{}),A.jsx(ra,{type:"monotone",dataKey:"total"})]})})}),A.jsx("div",{className:"h-64",children:A.jsx(Ae,{width:"100%",height:"100%",children:A.jsxs(Or,{children:[A.jsx(Je,{data:c,dataKey:"value",nameKey:"name",label:!0,children:c.map((u,l)=>A.jsx(le,{},l))}),A.jsx(xe,{})]})})})]})]})})}export{Tr as default};
