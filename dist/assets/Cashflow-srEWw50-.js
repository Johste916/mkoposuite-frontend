import{r as a,j as e,b as y}from"./index-DjV_TQlB.js";const l=r=>Number(r||0).toLocaleString();function u(){const[r,h]=a.useState(String(new Date().getFullYear())),[c,m]=a.useState([]),[p,n]=a.useState(!0),[d,o]=a.useState(""),i=async()=>{var s,x;n(!0),o("");try{const{data:t}=await y.get("/accounting/cashflow-monthly",{params:{year:r}});m(Array.isArray(t)?t:[])}catch(t){o(((x=(s=t==null?void 0:t.response)==null?void 0:s.data)==null?void 0:x.error)||t.message)}finally{n(!1)}};return a.useEffect(()=>{i()},[]),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4",children:[e.jsxs("div",{className:"flex items-end justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Cashflow (Monthly)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("label",{className:"block text-xs opacity-70",children:"Year"}),e.jsx("input",{type:"number",className:"border rounded px-2 py-1 w-28 dark:bg-gray-700",value:r,onChange:s=>h(s.target.value)})]}),e.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-blue-600 text-white text-sm",children:"Run"})]})]}),d&&e.jsxs("div",{className:"text-red-500 text-sm mb-3",children:["Error: ",d]}),p?e.jsx("div",{className:"py-10 text-center opacity-70",children:"Loadingâ€¦"}):e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b dark:border-gray-700",children:[e.jsx("th",{className:"px-3 py-2",children:"Month"}),e.jsx("th",{className:"px-3 py-2",children:"Inflow"}),e.jsx("th",{className:"px-3 py-2",children:"Outflow"}),e.jsx("th",{className:"px-3 py-2",children:"Net"})]})}),e.jsxs("tbody",{children:[c.map(s=>e.jsxs("tr",{className:"border-b dark:border-gray-700",children:[e.jsx("td",{className:"px-3 py-2",children:s.month}),e.jsx("td",{className:"px-3 py-2",children:l(s.inflow)}),e.jsx("td",{className:"px-3 py-2",children:l(s.outflow)}),e.jsx("td",{className:"px-3 py-2",children:l(s.net)})]},s.month)),c.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-3 py-8 text-center opacity-70",children:"No data"})})]})]})})]})}export{u as default};
