import{r as d,j as e,g as u}from"./index-BVWWaTks.js";const g=()=>{const[a,c]=d.useState({name:"",branchId:"",meetingDay:"",officerId:"",notes:""}),[o,i]=d.useState(!1),[m,t]=d.useState(""),s=l=>c(r=>({...r,[l.target.name]:l.target.value})),x=async l=>{var r;l.preventDefault(),i(!0),t("");try{const n=await u.post("/borrowers/groups",{name:a.name,branchId:a.branchId||null,meetingDay:a.meetingDay||null,officerId:a.officerId||null,notes:a.notes||null});t("✅ Group created."),(r=n==null?void 0:n.data)!=null&&r.id,c({name:"",branchId:"",meetingDay:"",officerId:"",notes:""})}catch{t("❌ Failed to create group")}finally{i(!1)}};return e.jsxs("div",{className:"p-4 max-w-2xl",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Add Group"}),e.jsxs("form",{onSubmit:x,className:"space-y-3 bg-white p-4 rounded-xl border shadow",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Name"}),e.jsx("input",{name:"name",value:a.name,onChange:s,required:!0,className:"w-full border rounded-lg px-3 py-2",placeholder:"Group name"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Branch"}),e.jsx("input",{name:"branchId",value:a.branchId,onChange:s,className:"w-full border rounded-lg px-3 py-2",placeholder:"Branch ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Officer"}),e.jsx("input",{name:"officerId",value:a.officerId,onChange:s,className:"w-full border rounded-lg px-3 py-2",placeholder:"Officer ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Meeting Day"}),e.jsx("input",{name:"meetingDay",value:a.meetingDay,onChange:s,className:"w-full border rounded-lg px-3 py-2",placeholder:"e.g. Monday"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{name:"notes",value:a.notes,onChange:s,className:"w-full border rounded-lg px-3 py-2",rows:3})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 disabled:opacity-60",children:o?"Saving…":"Create Group"}),m&&e.jsx("div",{className:"text-sm",children:m})]})]})]})};export{g as default};
