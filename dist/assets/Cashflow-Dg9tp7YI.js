import{r as t,j as e,b as h}from"./index-C05W7U9P.js";function p(){const[a,o]=t.useState(String(new Date().getFullYear())),[r,x]=t.useState([]),[l,i]=t.useState(""),c=()=>{h.get("/accounting/cashflow-monthly",{params:{year:a}}).then(s=>x(s.data||[])).catch(s=>{var n,d;return i(((d=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:d.error)||s.message)})};return t.useEffect(()=>{c()},[]),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4",children:[e.jsxs("div",{className:"flex items-end justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Cashflow (Monthly)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("label",{className:"block text-xs opacity-70",children:"Year"}),e.jsx("input",{type:"number",className:"border rounded px-2 py-1 w-28 dark:bg-gray-700",value:a,onChange:s=>o(s.target.value)})]}),e.jsx("button",{onClick:c,className:"px-3 py-2 rounded bg-blue-600 text-white text-sm",children:"Run"})]})]}),l&&e.jsxs("div",{className:"text-red-500 text-sm mb-3",children:["Error: ",l]}),e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b dark:border-gray-700",children:[e.jsx("th",{className:"px-3 py-2",children:"Month"}),e.jsx("th",{className:"px-3 py-2",children:"Inflow"}),e.jsx("th",{className:"px-3 py-2",children:"Outflow"}),e.jsx("th",{className:"px-3 py-2",children:"Net"})]})}),e.jsxs("tbody",{children:[r.map(s=>e.jsxs("tr",{className:"border-b dark:border-gray-700",children:[e.jsx("td",{className:"px-3 py-2",children:s.month}),e.jsx("td",{className:"px-3 py-2",children:Number(s.inflow||0).toLocaleString()}),e.jsx("td",{className:"px-3 py-2",children:Number(s.outflow||0).toLocaleString()}),e.jsx("td",{className:"px-3 py-2",children:Number(s.net||0).toLocaleString()})]},s.month)),r.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-3 py-8 text-center opacity-70",children:"No data"})})]})]})})]})}export{p as default};
