import{r as a,j as e,b as j}from"./index-OAb_JalT.js";function f(){const[n,d]=a.useState(""),[r,o]=a.useState(""),[c,i]=a.useState(""),[u,m]=a.useState(!1),[x,p]=a.useState(null),[b,l]=a.useState(null),g=async s=>{var h,w;if(s.preventDefault(),p(null),l(null),r!==c){l("New password and confirmation do not match.");return}m(!0);try{const{data:t}=await j.post("/account/change-password",{currentPassword:n,newPassword:r});p((t==null?void 0:t.message)||"Password updated."),d(""),o(""),i("")}catch(t){l(((w=(h=t==null?void 0:t.response)==null?void 0:h.data)==null?void 0:w.message)||"Failed to change password")}finally{m(!1)}};return e.jsxs("div",{className:"max-w-md bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 p-4",children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Change Password"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Set a strong password to keep your account secure."}),x&&e.jsx("div",{className:"mt-3 text-sm text-emerald-600",children:x}),b&&e.jsx("div",{className:"mt-3 text-sm text-rose-600",children:b}),e.jsxs("form",{onSubmit:g,className:"mt-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm block mb-1",children:"Current password"}),e.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2 text-sm",value:n,onChange:s=>d(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm block mb-1",children:"New password"}),e.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2 text-sm",value:r,onChange:s=>o(s.target.value),required:!0,minLength:8}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Minimum 8 characters."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm block mb-1",children:"Confirm new password"}),e.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2 text-sm",value:c,onChange:s=>i(s.target.value),required:!0})]}),e.jsx("button",{type:"submit",disabled:u,className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-60",children:u?"Savingâ€¦":"Update Password"})]})]})}export{f as default};
