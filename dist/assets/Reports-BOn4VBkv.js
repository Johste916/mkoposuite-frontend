import{r as t,j as r,h as x}from"./index-DOOrcP1L.js";const c=o=>`TZS ${Number(o||0).toLocaleString()}`,e={container:"w-full px-4 md:px-6 lg:px-8 py-6 bg-[var(--bg)] text-[var(--fg)]",h1:"text-3xl font-extrabold tracking-tight",kpiCard:"rounded-2xl border-2 border-[var(--border-strong)] bg-[var(--card)] shadow p-4",kpiLabel:"text-[11px] uppercase tracking-wide text-[var(--muted)] font-semibold",kpiValue:"mt-1 text-xl font-semibold",alert:"rounded-2xl px-4 py-3",skeleton:"rounded-2xl border-2 border-[var(--border-strong)] bg-[var(--card)] shadow p-4",placeholderCard:"rounded-2xl border-2 border-[var(--border-strong)] bg-[var(--card)] shadow p-4"},v=()=>{const[o,n]=t.useState([{label:"Active Borrowers",value:"0"},{label:"Total Outstanding",value:c(0)},{label:"PAR",value:"0%"}]),[b,l]=t.useState(!0),[d,i]=t.useState("");return t.useEffect(()=>{(async()=>{try{l(!0),i("");const s=await x.get("/borrowers/reports/summary"),{activeBorrowers:p,totalOutstanding:g,par:m}=(s==null?void 0:s.data)||{};n([{label:"Active Borrowers",value:`${p??0}`},{label:"Total Outstanding",value:c(g??0)},{label:"PAR",value:`${Number(m??0).toFixed(2)}%`}])}catch(s){console.error("Error loading borrower reports summary:",s),i("Failed to load borrower report data.")}finally{l(!1)}})()},[]),r.jsxs("div",{className:e.container,children:[r.jsx("h1",{className:e.h1,children:"Borrower Reports"}),b?r.jsx("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-3",children:[0,1,2].map(a=>r.jsxs("div",{className:e.skeleton,children:[r.jsx("div",{className:"mb-3 h-3 w-24 rounded bg-[var(--kpi-bg)]"}),r.jsx("div",{className:"h-6 w-32 rounded bg-[var(--kpi-bg)]"})]},a))}):d?r.jsx("div",{className:`${e.alert} mt-4`,style:{border:"2px solid var(--danger-border)",background:"var(--danger-bg)",color:"var(--danger-fg)",borderRadius:"1rem"},children:d}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-3",children:o.map(a=>r.jsxs("div",{className:e.kpiCard,children:[r.jsx("div",{className:e.kpiLabel,children:a.label}),r.jsx("div",{className:e.kpiValue,children:a.value})]},a.label))}),r.jsx("div",{className:`${e.placeholderCard} mt-4`,children:r.jsx("div",{className:"text-sm text-[var(--muted)]",children:"Charts will go here (by branch, officer, risk tiers)."})})]})]})};export{v as default};
