import{r,j as e,b as p}from"./index-BB9e1N5T.js";function b(){const[c,o]=r.useState(""),[l,x]=r.useState([]),[d,m]=r.useState(""),i=()=>{p.get("/accounting/trial-balance",{params:c?{asOf:c}:{}}).then(s=>x(s.data||[])).catch(s=>{var t,n;return m(((n=(t=s==null?void 0:s.response)==null?void 0:t.data)==null?void 0:n.error)||s.message)})};r.useEffect(()=>{i()},[]);const a=l.reduce((s,t)=>(s.debit+=Number(t.debit||0),s.credit+=Number(t.credit||0),s),{debit:0,credit:0});return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4",children:[e.jsxs("div",{className:"flex items-end justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Trial Balance"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("label",{className:"block text-xs opacity-70",children:"As of"}),e.jsx("input",{type:"date",value:c,onChange:s=>o(s.target.value),className:"border rounded px-2 py-1 dark:bg-gray-700"})]}),e.jsx("button",{onClick:i,className:"px-3 py-2 rounded bg-blue-600 text-white text-sm",children:"Run"})]})]}),d&&e.jsxs("div",{className:"text-red-500 text-sm mb-3",children:["Error: ",d]}),e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b dark:border-gray-700",children:[e.jsx("th",{className:"px-3 py-2",children:"Account"}),e.jsx("th",{className:"px-3 py-2",children:"Debit"}),e.jsx("th",{className:"px-3 py-2",children:"Credit"}),e.jsx("th",{className:"px-3 py-2",children:"Balance"})]})}),e.jsxs("tbody",{children:[l.map(s=>e.jsxs("tr",{className:"border-b dark:border-gray-700",children:[e.jsxs("td",{className:"px-3 py-2",children:[s.accountCode," â€” ",s.accountName]}),e.jsx("td",{className:"px-3 py-2",children:Number(s.debit||0).toLocaleString()}),e.jsx("td",{className:"px-3 py-2",children:Number(s.credit||0).toLocaleString()}),e.jsx("td",{className:"px-3 py-2",children:Number(s.balance||0).toLocaleString()})]},s.accountId)),l.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-3 py-8 text-center opacity-70",children:"No data"})})]}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"font-semibold",children:[e.jsx("td",{className:"px-3 py-2 text-right",children:"Totals"}),e.jsx("td",{className:"px-3 py-2",children:a.debit.toLocaleString()}),e.jsx("td",{className:"px-3 py-2",children:a.credit.toLocaleString()}),e.jsx("td",{className:"px-3 py-2",children:(a.debit-a.credit).toLocaleString()})]})})]})})]})}export{b as default};
