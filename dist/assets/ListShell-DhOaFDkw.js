import{j as e,r as A}from"./index-nRfDEWc-.js";function B({page:n,setPage:r,limit:d,setLimit:x,total:i}){const c=Math.max(1,Math.ceil((i||0)/(d||20)));return e.jsxs("div",{className:"flex items-center justify-between gap-3 mt-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Rows:"}),e.jsx("select",{className:"border rounded px-2 py-1",value:d,onChange:a=>{r(1),x(parseInt(a.target.value,10))},children:[10,20,50,100].map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 border rounded disabled:opacity-50",onClick:()=>r(Math.max(1,n-1)),disabled:n<=1,children:"Prev"}),e.jsxs("span",{children:["Page ",n," / ",c]}),e.jsx("button",{className:"px-3 py-1 border rounded disabled:opacity-50",onClick:()=>r(Math.min(c,n+1)),disabled:n>=c,children:"Next"})]})]})}function L({title:n,q:r,setQ:d,columns:x=[],rows:i=[],loading:c,error:a,page:N,setPage:g,limit:v,setLimit:k,total:C,toolbar:y,renderActions:h,renderRowActions:p}){const u=!!(h||p),j=A.useMemo(()=>(Array.isArray(i)?i:[]).filter(Boolean),[i]),f=Array.isArray(x)?x.filter(Boolean):[],M=(s,t,o,m)=>{const l=t==null?void 0:t[s.key];if(typeof s.render=="function"){try{const b=s.render({row:t,value:l,column:s,rowIndex:o,colIndex:m});if(typeof b<"u")return b}catch{}try{return s.render(l,t)}catch{}try{return s.render(t)}catch{}}return l===null||typeof l>"u"||l===""?"—":String(l)},S=s=>typeof p=="function"?p(s):typeof h=="function"?h(s):null;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4",children:[e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:n}),typeof r<"u"&&typeof d=="function"&&e.jsx("input",{value:r,onChange:s=>d(s.target.value),placeholder:"Search…",className:"px-3 py-2 border rounded w-full sm:w-60 dark:bg-gray-700"})]}),y?e.jsx("div",{className:"mb-3",children:y}):null,a&&e.jsxs("div",{className:"text-red-500 text-sm mb-3",children:["Error: ",String(a)]}),c?e.jsx("div",{className:"py-10 text-center text-sm opacity-70",children:"Loading…"}):e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b dark:border-gray-700",children:[f.map(s=>e.jsx("th",{className:"px-3 py-2",children:s.title??s.key??""},s.key||s.title)),u&&e.jsx("th",{className:"px-3 py-2",children:"Actions"})]})}),e.jsx("tbody",{children:j.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:f.length+(u?1:0),className:"px-3 py-10 text-center opacity-70",children:"No data"})}):j.map((s,t)=>e.jsxs("tr",{className:"border-b last:border-0 dark:border-gray-700",children:[f.map((o,m)=>e.jsx("td",{className:"px-3 py-2",children:M(o,s,t,m)},o.key||m)),u&&e.jsx("td",{className:"px-3 py-2",children:S(s)})]},(s==null?void 0:s.id)??t))})]})}),e.jsx(B,{page:N,setPage:g,limit:v,setLimit:k,total:C})]})}export{L};
