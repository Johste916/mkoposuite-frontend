import{a as r}from"./index-Bh-79F3G.js";function i(e){if(Array.isArray(e)){const n=e;return n.meta={page:1,limit:n.length,total:n.length},n}const t=(e==null?void 0:e.data)??[],s=(e==null?void 0:e.meta)??{page:1,limit:t.length,total:t.length};return t.meta=s,t}const a={listRoles:()=>r.get("/roles").then(e=>e.data),createRole:e=>r.post("/roles",e).then(t=>t.data),listUsers:e=>r.get("/admin/staff",{params:e}).then(t=>i(t.data)),createUser:e=>{const t=e.roleIds??(e.roleId?[e.roleId]:[]),s=e.branchId??(Array.isArray(e.branchIds)?e.branchIds[0]:void 0),n={...e,roleIds:t,branchId:s};return delete n.roleId,delete n.branchIds,r.post("/admin/staff",n).then(d=>d.data)},updateUser:(e,t)=>{const s=t.roleIds??(t.roleId?[t.roleId]:void 0),n=t.branchId??(Array.isArray(t.branchIds)?t.branchIds[0]:void 0),d={...t,...s?{roleIds:s}:{},...n!==void 0?{branchId:n}:{}};return delete d.roleId,delete d.branchIds,r.put(`/admin/staff/${encodeURIComponent(e)}`,d).then(o=>o.data)},resetUserPassword:(e,t)=>r.patch(`/admin/staff/${encodeURIComponent(e)}/password`,{password:t}).then(s=>s.data),toggleUserStatus:(e,t)=>r.patch(`/admin/staff/${encodeURIComponent(e)}/status`,{isActive:t}).then(s=>s.data),listPermissions:()=>r.get("/permissions").then(e=>e.data),updatePermission:(e,t,s="")=>r.put(`/permissions/${encodeURIComponent(e)}`,{roles:t,description:s}).then(n=>n.data),listAudit:e=>r.get("/admin/audit",{params:e}).then(t=>t.data)};export{a as A};
