import{j as e}from"./index-yEiZmsAc.js";import{u as o}from"./useSettingsResource-BS1VaUl0.js";import{S as n}from"./settings-XXfH9bAn.js";import"./index-CA8rc7Tc.js";function h(){const{data:s,setData:l,loading:c,saving:t,error:r,success:i,save:d}=o(n.getPaymentSettings,n.savePaymentSettings,{provider:"mpesa",apiKey:"",secret:"",callbackUrl:"",enabled:!1});return c?e.jsx("div",{className:"p-4 text-sm text-slate-500",children:"Loading…"}):e.jsxs("div",{className:"bg-white dark:bg-slate-900 border rounded-2xl p-4 space-y-3",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Payment Settings"}),r&&e.jsx("div",{className:"text-sm text-rose-600",children:r}),i&&e.jsx("div",{className:"text-sm text-emerald-600",children:i}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm",children:"Provider"}),e.jsxs("select",{className:"mt-1 w-full rounded border px-3 py-2 text-sm",value:s.provider||"",onChange:a=>l({...s,provider:a.target.value}),children:[e.jsx("option",{value:"mpesa",children:"M-Pesa"}),e.jsx("option",{value:"tigo",children:"Tigo"}),e.jsx("option",{value:"airtel",children:"Airtel"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm",children:"API Key"}),e.jsx("input",{className:"mt-1 w-full rounded border px-3 py-2 text-sm",value:s.apiKey||"",onChange:a=>l({...s,apiKey:a.target.value}),placeholder:"••••••"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm",children:"Secret"}),e.jsx("input",{className:"mt-1 w-full rounded border px-3 py-2 text-sm",value:s.secret||"",onChange:a=>l({...s,secret:a.target.value}),placeholder:"••••••"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm",children:"Callback URL"}),e.jsx("input",{className:"mt-1 w-full rounded border px-3 py-2 text-sm",value:s.callbackUrl||"",onChange:a=>l({...s,callbackUrl:a.target.value}),placeholder:"https://yourapp.com/api/payments/callback"})]}),e.jsxs("label",{className:"flex items-center gap-2 md:col-span-2",children:[e.jsx("input",{type:"checkbox",checked:!!s.enabled,onChange:a=>l({...s,enabled:a.target.checked})}),e.jsx("span",{className:"text-sm",children:"Enable Payments"})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{className:"px-3 py-1.5 rounded bg-blue-600 text-white text-sm",onClick:()=>d(),disabled:t,children:t?"Saving…":"Save"})})]})}export{h as default};
