import{r as l,b as A,j as t,L as x}from"./index-BMxYIXeW.js";import{u as I,L as R}from"./ListShell-D5ql2Q_Y.js";function $(){const[a,m]=l.useState(""),[o,h]=l.useState(""),[r,f]=l.useState(""),[n,j]=l.useState(""),[i,v]=l.useState(""),[c,g]=l.useState(""),N=l.useMemo(()=>{const e=new URLSearchParams;a&&e.set("status",a),o&&e.set("type",o),r&&e.set("dateFrom",r),n&&e.set("dateTo",n),i&&e.set("collector",i),c&&e.set("loanOfficer",c);const s=e.toString();return s?`/collections?${s}`:"/collections"},[a,o,r,n,i,c]),{rows:S,total:y,page:C,setPage:E,limit:b,setLimit:L,q:u,setQ:O,loading:F,error:D}=I({url:N}),P=[{key:"date",title:"Date"},{key:"type",title:"Type"},{key:"collector",title:"Collector"},{key:"loanOfficer",title:"Loan Officer"},{key:"status",title:"Status"}],T=l.useMemo(()=>{var d,p;const e=String(((p=(d=A)==null?void 0:d.defaults)==null?void 0:p.baseURL)||"/api").replace(/\/+$/g,""),s=new URLSearchParams;return u&&s.set("q",u),a&&s.set("status",a),o&&s.set("type",o),r&&s.set("dateFrom",r),n&&s.set("dateTo",n),i&&s.set("collector",i),c&&s.set("loanOfficer",c),s.set("export","csv"),`${e}/collections?${s.toString()}`},[u,a,o,r,n,i,c]);return t.jsx(R,{title:"Collection Sheets",q:u,setQ:O,columns:P,rows:S,loading:F,error:D,page:C,setPage:E,limit:b,setLimit:L,total:y,toolbar:t.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full",children:[t.jsx(x,{to:"/collections/new",className:"mr-3 border rounded px-3 py-1 text-sm bg-blue-600 text-white hover:bg-blue-700",children:"+ New Collection Sheet"}),t.jsx("label",{className:"text-sm",children:"Status"}),t.jsxs("select",{className:"border rounded px-2 py-1",value:a,onChange:e=>m(e.target.value),children:[t.jsx("option",{value:"",children:"All"}),t.jsx("option",{value:"PENDING",children:"PENDING"}),t.jsx("option",{value:"IN_PROGRESS",children:"IN_PROGRESS"}),t.jsx("option",{value:"COMPLETED",children:"COMPLETED"}),t.jsx("option",{value:"CANCELLED",children:"CANCELLED"})]}),t.jsx("label",{className:"text-sm ml-3",children:"Type"}),t.jsxs("select",{className:"border rounded px-2 py-1",value:o,onChange:e=>h(e.target.value),children:[t.jsx("option",{value:"",children:"All"}),t.jsx("option",{value:"FIELD",children:"FIELD"}),t.jsx("option",{value:"OFFICE",children:"OFFICE"}),t.jsx("option",{value:"AGENCY",children:"AGENCY"})]}),t.jsx("label",{className:"text-sm ml-3",children:"From"}),t.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:r,onChange:e=>f(e.target.value)}),t.jsx("label",{className:"text-sm",children:"To"}),t.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:n,onChange:e=>j(e.target.value)}),t.jsx("input",{placeholder:"Collector",className:"border rounded px-2 py-1 ml-3",value:i,onChange:e=>v(e.target.value)}),t.jsx("input",{placeholder:"Loan Officer",className:"border rounded px-2 py-1",value:c,onChange:e=>g(e.target.value)}),t.jsx("a",{href:T,className:"ml-auto inline-flex items-center border rounded px-3 py-1 text-sm hover:bg-gray-50",children:"Export CSV"})]}),renderRowActions:e=>e!=null&&e.id?t.jsx(x,{to:`/collections/${e.id}/edit`,className:"text-blue-600 hover:underline text-sm",children:"Edit"}):null})}export{$ as default};
