import{j as e,g as i}from"./index-C40kITj2.js";import{u}from"./useSettingsResource-vuFX7eyh.js";function g(){const c=()=>i.get("/api/settings/kv/backup-settings").then(s=>s.data),r=s=>i.put("/api/settings/kv/backup-settings",{value:s}).then(m=>m.data),{data:a,setData:t,loading:x,saving:l,error:n,success:d,save:o}=u(c,r,{enabled:!0,freq:"daily",time:"02:00",keepDays:30,includeUploads:!1});return x?e.jsx("div",{className:"p-4 text-sm text-slate-500",children:"Loading…"}):e.jsxs("div",{className:"bg-white dark:bg-slate-900 border rounded-2xl p-4 space-y-3",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Backup Settings"}),n&&e.jsx("div",{className:"text-sm text-rose-600",children:n}),d&&e.jsx("div",{className:"text-sm text-emerald-600",children:d}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!a.enabled,onChange:s=>t({...a,enabled:s.target.checked})}),e.jsx("span",{className:"text-sm",children:"Enable automated backups"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm",children:"Frequency"}),e.jsxs("select",{className:"mt-1 w-full rounded border px-3 py-2 text-sm",value:a.freq||"daily",onChange:s=>t({...a,freq:s.target.value}),children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm",children:"Run Time (24h)"}),e.jsx("input",{className:"mt-1 w-full rounded border px-3 py-2 text-sm",value:a.time||"02:00",onChange:s=>t({...a,time:s.target.value}),placeholder:"02:00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm",children:"Retention (days)"}),e.jsx("input",{type:"number",className:"mt-1 w-full rounded border px-3 py-2 text-sm",value:Number(a.keepDays||30),onChange:s=>t({...a,keepDays:Number(s.target.value)})})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:!!a.includeUploads,onChange:s=>t({...a,includeUploads:s.target.checked})}),e.jsx("span",{className:"text-sm",children:"Include /uploads directory"})]})]}),e.jsx("button",{className:"px-3 py-1.5 rounded bg-blue-600 text-white text-sm",onClick:()=>o(),disabled:l,children:l?"Saving…":"Save"})]})}export{g as default};
