import{r,j as e,b as p}from"./index-xa1xRnXx.js";function u(){const[t,i]=r.useState(""),[d,l]=r.useState([]),[c,n]=r.useState(""),x=async s=>{var a,o;if(s.preventDefault(),!!t)try{const h=await p.get(`/loans/${t}/schedule`);l(((a=h.data)==null?void 0:a.schedule)||[]),n(((o=h.data)==null?void 0:o.interestMethod)||"")}catch{l([]),n("")}};return e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Loan Schedule"}),e.jsxs("form",{onSubmit:x,className:"flex gap-2",children:[e.jsx("input",{className:"border px-3 py-2 rounded",placeholder:"Enter Loan ID",value:t,onChange:s=>i(s.target.value)}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Load"})]}),c&&e.jsxs("p",{className:"text-sm",children:["Interest Method: ",e.jsx("b",{children:c})]}),!!d.length&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white rounded shadow border",children:[e.jsx("thead",{className:"bg-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 border",children:"#"}),e.jsx("th",{className:"p-2 border",children:"Due Date"}),e.jsx("th",{className:"p-2 border",children:"Principal"}),e.jsx("th",{className:"p-2 border",children:"Interest"}),e.jsx("th",{className:"p-2 border",children:"Total"})]})}),e.jsx("tbody",{children:d.map((s,a)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2",children:s.installment||s.period||a+1}),e.jsx("td",{className:"border px-2",children:s.dueDate}),e.jsx("td",{className:"border px-2",children:s.principal}),e.jsx("td",{className:"border px-2",children:s.interest}),e.jsx("td",{className:"border px-2",children:s.total})]},a))})]})})]})}export{u as default};
