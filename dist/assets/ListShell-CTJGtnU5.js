import{j as e,r as A}from"./index-BdJ97RMf.js";function B({page:t,setPage:l,limit:i,setLimit:o,total:d}){const c=Math.max(1,Math.ceil((d||0)/(i||20)));return e.jsxs("div",{className:"flex items-center justify-between gap-3 mt-4 text-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"Rows:"}),e.jsx("select",{className:"border border-[var(--border)] bg-[var(--input-bg)] text-[var(--input-fg)] rounded px-2 py-1",value:i,onChange:s=>{l(1),o(parseInt(s.target.value,10))},"aria-label":"Rows per page",children:[10,20,50,100].map(s=>e.jsx("option",{value:s,children:s},s))})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-[var(--border)] bg-[var(--card)] rounded disabled:opacity-50 hover:bg-[var(--chip-soft)]",onClick:()=>l(Math.max(1,t-1)),disabled:t<=1,"aria-label":"Previous page",children:"Prev"}),e.jsxs("span",{"aria-live":"polite",children:["Page ",t," / ",c]}),e.jsx("button",{className:"px-3 py-1 border border-[var(--border)] bg-[var(--card)] rounded disabled:opacity-50 hover:bg-[var(--chip-soft)]",onClick:()=>l(Math.min(c,t+1)),disabled:t>=c,"aria-label":"Next page",children:"Next"})]})]})}function L({title:t,q:l,setQ:i,columns:o=[],rows:d=[],loading:c,error:s,page:g,setPage:v,limit:N,setLimit:k,total:C,toolbar:f,renderActions:h,renderRowActions:m}){const u=!!(h||m),y=A.useMemo(()=>(Array.isArray(d)?d:[]).filter(Boolean),[d]),b=Array.isArray(o)?o.filter(Boolean):[],S=(a,r,x,p)=>{const n=r==null?void 0:r[a.key];if(typeof a.render=="function"){try{const j=a.render({row:r,value:n,column:a,rowIndex:x,colIndex:p});if(typeof j<"u")return j}catch{}try{return a.render(n,r)}catch{}try{return a.render(r)}catch{}}return n===null||typeof n>"u"||n===""?"—":String(n)},M=a=>typeof m=="function"?m(a):typeof h=="function"?h(a):null;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-4",children:[e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t}),typeof l<"u"&&typeof i=="function"&&e.jsx("input",{value:l,onChange:a=>i(a.target.value),placeholder:"Search…",className:"px-3 py-2 border rounded w-full sm:w-60 dark:bg-gray-700","aria-label":"Search list"})]}),f?e.jsx("div",{className:"mb-3",children:f}):null,s&&e.jsxs("div",{className:"text-red-500 text-sm mb-3",children:["Error: ",String(s)]}),c?e.jsx("div",{className:"py-10 text-center text-sm opacity-70",children:"Loading…"}):e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left border-b dark:border-gray-700",children:[b.map(a=>e.jsx("th",{className:"px-3 py-2",children:a.title??a.key??""},a.key||a.title)),u&&e.jsx("th",{className:"px-3 py-2",children:"Actions"})]})}),e.jsx("tbody",{children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:b.length+(u?1:0),className:"px-3 py-10 text-center opacity-70",children:"No data"})}):y.map((a,r)=>e.jsxs("tr",{className:"border-b last:border-0 dark:border-gray-700 align-top",children:[b.map((x,p)=>e.jsx("td",{className:"px-3 py-2 break-words whitespace-normal",children:S(x,a,r,p)},x.key||p)),u&&e.jsx("td",{className:"px-3 py-2",children:M(a)})]},(a==null?void 0:a.id)??r))})]})}),e.jsx(B,{page:g,setPage:v,limit:N,setLimit:k,total:C})]})}export{L};
