import{r as s,j as t,L as d}from"./index-CGUW4B3c.js";import{u as P,L as T}from"./ListShell-C_87XU_y.js";function R(){const[l,p]=s.useState(""),[o,x]=s.useState(""),[a,m]=s.useState(""),[r,h]=s.useState(""),[n,f]=s.useState(""),[c,j]=s.useState(""),v=s.useMemo(()=>{const e=new URLSearchParams;l&&e.set("status",l),o&&e.set("type",o),a&&e.set("dateFrom",a),r&&e.set("dateTo",r),n&&e.set("collector",n),c&&e.set("loanOfficer",c);const u=e.toString();return u?`/collections?${u}`:"/collections"},[l,o,a,r,n,c]),{rows:N,total:g,page:y,setPage:C,limit:E,setLimit:S,q:i,setQ:b,loading:L,error:O}=P({url:v}),F=[{key:"date",title:"Date"},{key:"type",title:"Type"},{key:"collector",title:"Collector"},{key:"loanOfficer",title:"Loan Officer"},{key:"status",title:"Status"}],D=s.useMemo(()=>{const e=new URLSearchParams;return i&&e.set("q",i),l&&e.set("status",l),o&&e.set("type",o),a&&e.set("dateFrom",a),r&&e.set("dateTo",r),n&&e.set("collector",n),c&&e.set("loanOfficer",c),e.set("export","csv"),`/collections?${e.toString()}`},[i,l,o,a,r,n,c]);return t.jsx(T,{title:"Collection Sheets",q:i,setQ:b,columns:F,rows:N,loading:L,error:O,page:y,setPage:C,limit:E,setLimit:S,total:g,toolbar:t.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full",children:[t.jsx(d,{to:"/collections/new",className:"mr-3 border rounded px-3 py-1 text-sm bg-blue-600 text-white hover:bg-blue-700",children:"+ New Collection Sheet"}),t.jsx("label",{className:"text-sm",children:"Status"}),t.jsxs("select",{className:"border rounded px-2 py-1",value:l,onChange:e=>p(e.target.value),children:[t.jsx("option",{value:"",children:"All"}),t.jsx("option",{value:"PENDING",children:"PENDING"}),t.jsx("option",{value:"IN_PROGRESS",children:"IN_PROGRESS"}),t.jsx("option",{value:"COMPLETED",children:"COMPLETED"}),t.jsx("option",{value:"CANCELLED",children:"CANCELLED"})]}),t.jsx("label",{className:"text-sm ml-3",children:"Type"}),t.jsxs("select",{className:"border rounded px-2 py-1",value:o,onChange:e=>x(e.target.value),children:[t.jsx("option",{value:"",children:"All"}),t.jsx("option",{value:"FIELD",children:"FIELD"}),t.jsx("option",{value:"OFFICE",children:"OFFICE"}),t.jsx("option",{value:"AGENCY",children:"AGENCY"})]}),t.jsx("label",{className:"text-sm ml-3",children:"From"}),t.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:a,onChange:e=>m(e.target.value)}),t.jsx("label",{className:"text-sm",children:"To"}),t.jsx("input",{type:"date",className:"border rounded px-2 py-1",value:r,onChange:e=>h(e.target.value)}),t.jsx("input",{placeholder:"Collector",className:"border rounded px-2 py-1 ml-3",value:n,onChange:e=>f(e.target.value)}),t.jsx("input",{placeholder:"Loan Officer",className:"border rounded px-2 py-1",value:c,onChange:e=>j(e.target.value)}),t.jsx("a",{href:D,className:"ml-auto inline-flex items-center border rounded px-3 py-1 text-sm hover:bg-gray-50",children:"Export CSV"})]}),renderRowActions:e=>t.jsx(d,{to:`/collections/${e.id}/edit`,className:"text-blue-600 hover:underline text-sm",children:"Edit"})})}export{R as default};
