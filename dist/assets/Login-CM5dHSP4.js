import{r as a,u as y,j as e,F as k,a as S,b as _,c as E,L as f,d as L,e as F}from"./index-GPeVFkMM.js";const C="https://mkoposuite-backend-42w2.onrender.com/api".replace(/\/+$/,""),P=`${C}/login`,I="/brand/mkoposuite-logo.png",A=()=>{const[o,h]=a.useState(""),[n,b]=a.useState(""),[r,v]=a.useState(!1),[i,d]=a.useState(""),[c,m]=a.useState(!1),j=y();async function w(t){var x,u,p,g;t.preventDefault(),d(""),m(!0);try{const{data:s}=await F.post(P,{email:o,password:n}),{token:l,user:N}=s||{};if(!l)throw new Error("No token received from server");localStorage.setItem("token",l),localStorage.setItem("user",JSON.stringify(N||{})),j("/")}catch(s){const l=((u=(x=s==null?void 0:s.response)==null?void 0:x.data)==null?void 0:u.error)||((g=(p=s==null?void 0:s.response)==null?void 0:p.data)==null?void 0:g.message)||"Invalid email or password";d(l)}finally{m(!1)}}return e.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-[conic-gradient(at_120%_-20%,#fefcf5_0deg,#eef8f2_120deg,#f7fbff_240deg,#fefcf5_360deg)]",children:[e.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-[.9] bg-[radial-gradient(55%_50%_at_50%_0%,rgba(255,255,255,.85),rgba(255,255,255,0)_70%)]"}),e.jsx("div",{className:"relative z-10 flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"rounded-2xl bg-white/95 backdrop-blur-sm shadow-xl ring-1 ring-black/5",children:e.jsxs("div",{className:"px-8 pt-8 pb-6",children:[e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("img",{src:I,alt:"Mkopo Suite",className:"h-14 w-auto object-contain select-none",draggable:!1}),e.jsx("h1",{className:"mt-4 text-xl sm:text-2xl font-semibold text-slate-800",children:"Welcome to MkopoSuite"}),e.jsx("p",{className:"mt-1 text-xs sm:text-sm text-slate-500",children:"Please login to continue"})]}),i?e.jsx("div",{role:"alert",className:"mt-4 rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:i}):null,e.jsxs("form",{onSubmit:w,className:"mt-5 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-slate-400",children:e.jsx(k,{})}),e.jsx("input",{type:"email",value:o,onChange:t=>h(t.target.value),className:"w-full rounded-lg border border-slate-300 bg-white pl-10 pr-3 py-2 text-sm shadow-sm outline-none ring-0 transition focus:border-emerald-500/70 focus:ring-2 focus:ring-emerald-100",required:!0,placeholder:"admin@example.com",autoComplete:"email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-slate-400",children:e.jsx(S,{})}),e.jsx("input",{type:r?"text":"password",value:n,onChange:t=>b(t.target.value),className:"w-full rounded-lg border border-slate-300 bg-white pl-10 pr-10 py-2 text-sm shadow-sm outline-none ring-0 transition focus:border-emerald-500/70 focus:ring-2 focus:ring-emerald-100",required:!0,placeholder:"Enter your password",autoComplete:"current-password"}),e.jsx("button",{type:"button",onClick:()=>v(t=>!t),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-400 hover:text-slate-600","aria-label":r?"Hide password":"Show password",children:r?e.jsx(_,{}):e.jsx(E,{})})]})]}),e.jsx("div",{className:"flex items-center justify-end text-sm",children:e.jsx(f,{to:"/forgot-password",className:"text-emerald-700 hover:text-emerald-800",children:"Forgot password?"})}),e.jsx("button",{type:"submit",disabled:c,className:"inline-flex w-full items-center justify-center rounded-xl bg-emerald-700 px-4 py-2.5 text-sm font-medium text-white shadow hover:bg-emerald-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-300 disabled:opacity-60",children:c?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"mr-2 animate-spin"}),"Logging in…"]}):"Login"})]}),e.jsxs("div",{className:"mt-5 text-center text-sm text-slate-500",children:["Don’t have an account?"," ",e.jsx(f,{to:"/signup",className:"font-medium text-emerald-700 hover:text-emerald-800",children:"Create one"})]}),e.jsxs("div",{className:"mt-4 text-center text-[11px] text-slate-400",children:["© ",new Date().getFullYear()," MkopoSuite. All rights reserved."]})]})}),e.jsx("div",{className:"mx-auto mt-2 h-2 w-56 rounded-full bg-gradient-to-r from-amber-300/60 via-amber-400/60 to-amber-300/60 blur-md"})]})})]})};export{A as default};
